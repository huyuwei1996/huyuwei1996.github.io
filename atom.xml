<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://huyuwei1996.github.io/</id>
    <title>Huyuweiçš„ä¸ªäººåšå®¢</title>
    <updated>2020-04-19T08:34:59.216Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://huyuwei1996.github.io/"/>
    <link rel="self" href="https://huyuwei1996.github.io/atom.xml"/>
    <subtitle>é€†æ°´è¡ŒèˆŸï¼Œä¸è¿›åˆ™é€€</subtitle>
    <logo>https://huyuwei1996.github.io/images/avatar.png</logo>
    <icon>https://huyuwei1996.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, Huyuweiçš„ä¸ªäººåšå®¢</rights>
    <entry>
        <title type="html"><![CDATA[JPype1 - python2.7ä¸‹macå’Œwinå®‰è£…è§£å†³]]></title>
        <id>https://huyuwei1996.github.io/post/jpype1-python27-xia-mac-he-win-an-zhuang-jie-jue/</id>
        <link href="https://huyuwei1996.github.io/post/jpype1-python27-xia-mac-he-win-an-zhuang-jie-jue/">
        </link>
        <updated>2020-04-13T07:29:21.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ç›´æ¥æŒ‡å®šç‰ˆæœ¬å®‰è£…">ç›´æ¥æŒ‡å®šç‰ˆæœ¬å®‰è£…</h1>
<p>python2.7å°±å®‰è£…0.7.1åŠå…¶ä»¥ä¸‹ç‰ˆæœ¬</p>
<pre><code>pip2 install jpype1==0.7.1
or
pip2 install jpype1==0.7.0
</code></pre>
<h2 id="winé€šè¿‡å‹ç¼©åŒ…å®‰è£…">winé€šè¿‡å‹ç¼©åŒ…å®‰è£…</h2>
<p><code>pip2 install jpype1</code>å®‰è£…å¤±è´¥<br>
åœ¨<a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#jpype">https://www.lfd.uci.edu/~gohlke/pythonlibs/#jpype</a> ä¸‹è½½cp27ä¹Ÿå°±æ˜¯å¯¹åº”python2.7çš„<br>
<img src="https://huyuwei1996.github.io//post-images/1586763262234.png" alt="" loading="lazy"><br>
ç„¶åä½¿ç”¨<code>pip2 install JPype1-0.7.1-cp27-cp27m-win_amd64.whl</code>å®‰è£…</p>
<h2 id="macé€šè¿‡ç¼–è¯‘å®‰è£…">macé€šè¿‡ç¼–è¯‘å®‰è£…</h2>
<p><code>pip2 install jpype1</code>å®‰è£…å¤±è´¥<br>
åœ¨<a href="https://github.com/jpype-project/jpype/releases">https://github.com/jpype-project/jpype/releases</a> ä¸‹è½½v0.7.1çš„Source code<br>
(zip)<br>
å› ä¸º0.7.2å¼€å§‹ä¸æ”¯æŒpython2.7ï¼Œæ‰€ä»¥å®‰è£…æ—¶å€™ä¼šä¸€ç›´æŠ¥é”™ã€‚<br>
è¿™é‡Œé€‰æ‹©ä¸‹è½½æºç è§£å‹åï¼Œç›´æ¥ç¼–è¯‘å®‰è£…</p>
<pre><code>cd JPype1-0.7.1
python2 setup.py install
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è®°ä¸€æ¬¡libimobiledeviceå®‰è£…é—®é¢˜]]></title>
        <id>https://huyuwei1996.github.io/post/ji-yi-ci-libimobiledevice-an-zhuang-wen-ti/</id>
        <link href="https://huyuwei1996.github.io/post/ji-yi-ci-libimobiledevice-an-zhuang-wen-ti/">
        </link>
        <updated>2020-04-13T07:12:26.000Z</updated>
        <content type="html"><![CDATA[<p><img src="https://huyuwei1996.github.io//post-images/1586762260492.png" alt="" loading="lazy"><br>
ç›´æ¥è®°å½•ä¸‹ç»“æœå§ï¼Œå›¾ä¸­3f64bbdc857512944b5bc7bb36f4d59191c25d14ä¸€ç›´ç¼–è¯‘æŠ¥é”™ï¼Œafc.cçš„é—®é¢˜ã€‚</p>
<pre><code>brew install -v --HEAD libimobiledevice
# å®‰è£…å¤±è´¥åï¼Œåˆ‡æ¢ä¸Šä¸€ä¸ªcommit
cd /Users/huyuwei/Library/Caches/Homebrew/libimobiledevice--git
git checkout c0576790378daa45d43335d44c5caff04c270c94
brew install gnutls
brew install libgcrypt
./autogen.sh --disable-openssl
make
make install
</code></pre>
<p>è§£å†³ç»è¿‡ï¼š</p>
<pre><code>brew install -v --HEAD libimobiledevice
# å®‰è£…æ–°ç‰ˆæ—¶å€™ï¼Œä¸­é—´å®‰è£…äº†ä¾èµ–python@3.8ï¼Œå’Œopenssl@1.1ï¼Œbrewè‡ªåŠ¨å®‰è£…å¤±è´¥åï¼Œå°è¯•ä»¥ä¸‹å‘½ä»¤ä¾ç„¶å¤±è´¥
brew install -v --HEAD --fetch --build-from-source libimobiledevice
# åé¢æ‰“ç®—æ‰‹åŠ¨ç¼–è¯‘ï¼Œé“¾æ¥ç›¸å…³ä¾èµ–åº“
cd /Users/huyuwei/Library/Caches/Homebrew/libimobiledevice--git
export LDFLAGS=&quot;-L/usr/local/opt/python@3.8/lib:$LDFLAGS&quot;
export LDFLAGS=&quot;-L/usr/local/opt/openssl@1.1/lib:$LDFLAGS&quot;
export CPPFLAGS=&quot;-I/usr/local/opt/openssl@1.1/include&quot;
./autogen.sh
# æç¤ºopensslç‰ˆæœ¬ä¸å¯¹(å¦‚ä¸‹)ï¼Œå¯èƒ½æ˜¯è¿™é‡ŒLDFLAGSè®¾ç½®çš„é—®é¢˜ï¼Œä¸å¤ªä¼šå¼„
checking for openssl &gt;= 0.9.8... no
configure: error: OpenSSL support explicitly requested but OpenSSL could not be found
# æœ€åæ‰¾åˆ°ä¸€ç§æ–¹å¼
brew install gnutls
brew install libgcrypt
./autogen.sh --disable-openssl
make
make install
</code></pre>
<p>ç„¶åideviceinstallerè¿™ä¸ªç»ˆäºæ¢å¤æ­£å¸¸äº†<br>
<img src="https://huyuwei1996.github.io//post-images/1586763744560.png" alt="" loading="lazy"></p>
<p>ç¬¬äºŒå¤©çš„æ–°commitè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚cf5a60d75c2108261a6e848b352f798c1422349c<br>
è¿™ä¹ˆå€’éœ‰çš„äº‹æƒ…åˆšå¥½é‡åˆ°äº†ï¼Œæˆ‘è¿˜ç¡¬è£…ä¸Šäº†ï¼Œå¤ªç´¯äº†ğŸ™</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Sublime Textå¸¸ç”¨æ’ä»¶è®°å½•]]></title>
        <id>https://huyuwei1996.github.io/post/sublime-text-chang-yong-cha-jian-ji-lu/</id>
        <link href="https://huyuwei1996.github.io/post/sublime-text-chang-yong-cha-jian-ji-lu/">
        </link>
        <updated>2020-04-10T03:40:25.000Z</updated>
        <content type="html"><![CDATA[<h6 id="å¸¸ç”¨package">å¸¸ç”¨Package</h6>
<blockquote>
<p>Package Control<br>
ConvertToUTF8(æ”¯æŒGBK)<br>
Codecs33(æ”¯æŒGB2312)<br>
HTML-CSS-JS Prettify<br>
Keymaps<br>
MarkdownTOC<br>
Nodejs<br>
Python 3<br>
PackageResourceViewer<br>
SideBarEnhancements<br>
Material Theme<br>
Theme - Monokai Pro</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pythonåˆ¤æ–­ç³»ç»Ÿç±»å‹]]></title>
        <id>https://huyuwei1996.github.io/post/python-pan-duan-xi-tong-lei-xing/</id>
        <link href="https://huyuwei1996.github.io/post/python-pan-duan-xi-tong-lei-xing/">
        </link>
        <updated>2020-04-10T03:40:12.000Z</updated>
        <content type="html"><![CDATA[<h2 id="osname">os.name</h2>
<p>è¯¥å˜é‡è¿”å›å½“å‰æ“ä½œç³»ç»Ÿçš„ç±»å‹</p>
<pre><code class="language-python">import os
print(os.name)
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:center">ç³»ç»Ÿ</th>
<th style="text-align:center">è¿”å›å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">linux</td>
<td style="text-align:center">posix</td>
</tr>
<tr>
<td style="text-align:center">windows</td>
<td style="text-align:center">nt</td>
</tr>
<tr>
<td style="text-align:center">javaè™šæ‹Ÿæœº</td>
<td style="text-align:center">java</td>
</tr>
</tbody>
</table>
<h2 id="sysplatform">sys.platform</h2>
<p>è¯¥å˜é‡è¿”å›å½“å‰ç³»ç»Ÿçš„å¹³å°æ ‡è¯†</p>
<pre><code class="language-python">import sys
print(sys.platform)
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:center">ç³»ç»Ÿ</th>
<th style="text-align:center">è¿”å›å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">linux</td>
<td style="text-align:center">linux</td>
</tr>
<tr>
<td style="text-align:center">windows</td>
<td style="text-align:center">win32</td>
</tr>
<tr>
<td style="text-align:center">windows/cygwin</td>
<td style="text-align:center">cygwin</td>
</tr>
<tr>
<td style="text-align:center">mac os x</td>
<td style="text-align:center">darwin</td>
</tr>
</tbody>
</table>
<h2 id="platformsystem">platform.system()</h2>
<p>è¿”å›å½“å‰æ“ä½œç³»ç»Ÿçš„åå­—</p>
<pre><code class="language-python">import platform
print(platform.system())
</code></pre>
<p>ä¾‹å¦‚Linuxï¼ŒWindowsï¼ŒJavaï¼ŒDarwinï¼Œ...</p>
<pre><code>platform.platform() Â  Â  #è·å–æ“ä½œç³»ç»Ÿåç§°åŠç‰ˆæœ¬å·ï¼Œå¦‚'Darwin-19.2.0-x86_64-i386-64bit'

platform.version() Â  Â  Â  Â #è·å–æ“ä½œç³»ç»Ÿç‰ˆæœ¬å·ï¼Œå¦‚'Darwin Kernel Version 19.2.0: Sat Nov  9 03:47:04 PST 2019; root:xnu-6153.61.1~20/RELEASE_X86_64'

platform.architecture() Â  Â #è·å–æ“ä½œç³»ç»Ÿçš„ä½æ•°ï¼Œå¦‚('64bit', '')

platform.machine() Â  Â  #è®¡ç®—æœºç±»å‹ï¼Œå¦‚'x86_64'

platform.node() Â  Â  Â  Â  Â #è®¡ç®—æœºçš„ç½‘ç»œåç§°

platform.processor() Â  Â #è®¡ç®—æœºå¤„ç†å™¨ä¿¡æ¯ï¼Œå¦‚'i386'

platform.uname() Â  Â  Â  Â #åŒ…å«ä¸Šé¢æ‰€æœ‰çš„ä¿¡æ¯æ±‡æ€»
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[oh-my-zshå®‰è£…]]></title>
        <id>https://huyuwei1996.github.io/post/oh-my-zsh-an-zhuang/</id>
        <link href="https://huyuwei1996.github.io/post/oh-my-zsh-an-zhuang/">
        </link>
        <updated>2020-04-10T03:39:41.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å®‰è£…æ­¥éª¤">å®‰è£…æ­¥éª¤</h2>
<ol>
<li>zshå®‰è£…</li>
<li>oh-my-zshå®‰è£…ã€é«˜äº®&amp;è‡ªåŠ¨è¡¥å…¨æ’ä»¶å®‰è£…</li>
<li>autojumpæ’ä»¶å®‰è£…</li>
</ol>
<h2 id="å®‰è£…è„šæœ¬">å®‰è£…è„šæœ¬</h2>
<p>MacOS:<br>
macè‡ªå¸¦zsh</p>
<pre><code>sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;

git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

brew install autojump

sed -i &quot;&quot; &quot;s/plugins=(git)/plugins=(git zsh-autosuggestions zsh-syntax-highlighting autojump)/g&quot; ~/.zshrc
source ~/.zshrc
</code></pre>
<p>Ubuntu:</p>
<pre><code>sudo apt update -y
sudo apt install zsh -y
sudo apt install git -y

sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;

git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

sudo apt install autojump -y

sed -i &quot;s/plugins=(git)/plugins=(git zsh-autosuggestions zsh-syntax-highlighting autojump)/g&quot; ~/.zshrc
source ~/.zshrc
</code></pre>
<p>CentOS:</p>
<pre><code>sudo yum update -y
sudo yum install zsh -y
sudo yum install git -y

sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;

git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

sudo yum install -y autojump-zsh

sed -i &quot;s/plugins=(git)/plugins=(git zsh-autosuggestions zsh-syntax-highlighting autojump)/g&quot; ~/.zshrc
source ~/.zshrc
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mac launchctl å¯åŠ¨è¿›ç¨‹]]></title>
        <id>https://huyuwei1996.github.io/post/mac-launchctl-qi-dong-jin-cheng/</id>
        <link href="https://huyuwei1996.github.io/post/mac-launchctl-qi-dong-jin-cheng/">
        </link>
        <updated>2020-04-10T03:39:04.000Z</updated>
        <content type="html"><![CDATA[<h1>plistæ–‡ä»¶åˆ†å¸ƒ</h1>
<pre><code class="">/System/Library/LaunchDaemons/ ï¼ˆSystem-wide daemons provided by OS Xï¼‰
å…¶ä¸­ apacheçš„httpdç¨‹åºå¯åŠ¨é…ç½®æ–‡ä»¶ org.apache.httpd.plist å°±åœ¨è¿™é‡Œã€‚

/System/Library/LaunchAgents/ ï¼ˆç”±Mac OS Xä¸ºç”¨æˆ·å®šä¹‰çš„ä»»åŠ¡é¡¹ï¼‰

/Library/LaunchDaemons ï¼ˆç”±ç®¡ç†å‘˜å®šä¹‰çš„å®ˆæŠ¤è¿›ç¨‹ä»»åŠ¡é¡¹ ï¼‰

/Library/LaunchAgents ï¼ˆç”±ç®¡ç†å‘˜ä¸ºç”¨æˆ·å®šä¹‰çš„ä»»åŠ¡é¡¹ ï¼‰
å¦‚æœæ”¾åˆ°/Library/LaunchAgents/ä¸‹é¢çš„è¯ï¼Œå°±æ˜¯ä¸€å¼€æœºå°±å¯åŠ¨å“¦ï½

~/Library/LaunchAgents ï¼ˆ ç”±ç”¨æˆ·è‡ªå·±å®šä¹‰çš„ä»»åŠ¡é¡¹ ï¼‰
</code></pre>
<h1>launchctl å¸¸ç”¨å‘½ä»¤</h1>
<pre><code class="">1.æ˜¾ç¤ºå½“å‰çš„å¯åŠ¨è„šæœ¬
launchctl list

2.å¼€æœºæ—¶è‡ªåŠ¨å¯åŠ¨ApacheæœåŠ¡å™¨
sudo launchctl load -w /System/Library/LaunchDaemons/org.apache.httpd.plist

3.è®¾ç½®å¼€æœºå¯åŠ¨å¹¶ç«‹å³å¯åŠ¨æ”¹æœåŠ¡
launchctl load -w   **.pist 

4. è®¾ç½®å¼€æœºå¯åŠ¨ä½†ä¸ç«‹å³å¯åŠ¨æœåŠ¡ 
launchctl load **.pist 

5. åœæ­¢æ­£åœ¨è¿è¡Œçš„å¯åŠ¨è„šæœ¬
sudo launchctl unload [path/to/script]
6. å†åŠ ä¸Š-wé€‰é¡¹å³å¯å»é™¤å¼€æœºå¯åŠ¨
sudo launchctl unload -w [path/to/script]
</code></pre>]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Linuxå†…æ ¸å‚æ•°ä¼˜åŒ–]]></title>
        <id>https://huyuwei1996.github.io/post/linux-nei-he-can-shu-you-hua/</id>
        <link href="https://huyuwei1996.github.io/post/linux-nei-he-can-shu-you-hua/">
        </link>
        <updated>2019-11-01T07:22:54.000Z</updated>
        <summary type="html"><![CDATA[<blockquote>
<p>è½¬è‡ªâ€”â€”é«˜å¹¶å‘æƒ…å†µä¸‹Linuxç³»ç»ŸåŠkernelå‚æ•°ä¼˜åŒ–ï¼š<a href="https://www.linuxidc.com/Linux/2018-08/153369.htm">https://www.linuxidc.com/Linux/2018-08/153369.htm</a></p>
<p>è°ƒæ•´äº†ä¸€ä¸‹æ–¹ä¾¿è‡ªå·±æŸ¥çœ‹</p>
</blockquote>
]]></summary>
        <content type="html"><![CDATA[<blockquote>
<p>è½¬è‡ªâ€”â€”é«˜å¹¶å‘æƒ…å†µä¸‹Linuxç³»ç»ŸåŠkernelå‚æ•°ä¼˜åŒ–ï¼š<a href="https://www.linuxidc.com/Linux/2018-08/153369.htm">https://www.linuxidc.com/Linux/2018-08/153369.htm</a></p>
<p>è°ƒæ•´äº†ä¸€ä¸‹æ–¹ä¾¿è‡ªå·±æŸ¥çœ‹</p>
</blockquote>
<!-- more -->
<p>ä¼—æ‰€å‘¨çŸ¥åœ¨é»˜è®¤å‚æ•°æƒ…å†µä¸‹Linuxå¯¹é«˜å¹¶å‘æ”¯æŒå¹¶ä¸å¥½ï¼Œä¸»è¦å—é™äºå•è¿›ç¨‹æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ã€å†…æ ¸TCPå‚æ•°æ–¹é¢å’ŒIOäº‹ä»¶åˆ†é…æœºåˆ¶ç­‰ã€‚ä¸‹é¢å°±ä»å‡ æ–¹é¢æ¥è°ƒæ•´ä½¿Linuxç³»ç»Ÿèƒ½å¤Ÿæ”¯æŒé«˜å¹¶å‘ç¯å¢ƒã€‚</p>
<h4 id="iptablesç›¸å…³">Iptablesç›¸å…³</h4>
<p>å¦‚éå¿…é¡»ï¼Œå…³æ‰æˆ–å¸è½½iptablesé˜²ç«å¢™ï¼Œå¹¶é˜»æ­¢kernelåŠ è½½iptablesæ¨¡å—ã€‚è¿™äº›æ¨¡å—ä¼šå½±å“å¹¶å‘æ€§èƒ½ã€‚</p>
<h4 id="å•è¿›ç¨‹æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶">å•è¿›ç¨‹æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶</h4>
<p>ä¸€èˆ¬çš„å‘è¡Œç‰ˆï¼Œé™åˆ¶å•è¿›ç¨‹æœ€å¤§å¯ä»¥æ‰“å¼€1024ä¸ªæ–‡ä»¶ï¼Œè¿™æ˜¯è¿œè¿œä¸èƒ½æ»¡è¶³é«˜å¹¶å‘éœ€æ±‚çš„ï¼Œè°ƒæ•´è¿‡ç¨‹å¦‚ä¸‹:</p>
<p>åœ¨#å·æç¤ºç¬¦ä¸‹æ•²å…¥:</p>
<pre><code># ulimit â€“n 65535
</code></pre>
<p>å°†rootå¯åŠ¨çš„å•ä¸€è¿›ç¨‹çš„æœ€å¤§å¯ä»¥æ‰“å¼€çš„æ–‡ä»¶æ•°è®¾ç½®ä¸º65535ä¸ªã€‚å¦‚æœç³»ç»Ÿå›æ˜¾ç±»ä¼¼äºâ€œOperationnotpermittedâ€ä¹‹ç±»çš„è¯ï¼Œè¯´æ˜ä¸Šè¿°é™åˆ¶ä¿®æ”¹å¤±è´¥ï¼Œå®é™…ä¸Šæ˜¯å› ä¸ºåœ¨ä¸­æŒ‡å®šçš„æ•°å€¼è¶…è¿‡äº†Linuxç³»ç»Ÿå¯¹è¯¥ç”¨æˆ·æ‰“å¼€æ–‡ä»¶æ•°çš„è½¯é™åˆ¶æˆ–ç¡¬é™åˆ¶ã€‚å› æ­¤ï¼Œå°±éœ€è¦ä¿®æ”¹Linuxç³»ç»Ÿå¯¹ç”¨æˆ·çš„å…³äºæ‰“å¼€æ–‡ä»¶æ•°çš„è½¯é™åˆ¶å’Œç¡¬é™åˆ¶ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼Œä¿®æ”¹limits.confæ–‡ä»¶ï¼Œå¹¶æ·»åŠ ï¼š</p>
<pre><code># vim /etc/security/limits.conf
* soft nofile 65535
* hard nofile 65535
</code></pre>
<p>å¯ä»¥å†™æˆ</p>
<pre><code>* - nofile 65535
</code></pre>
<p>å…¶ä¸­'*'å·è¡¨ç¤ºä¿®æ”¹æ‰€æœ‰ç”¨æˆ·çš„é™åˆ¶ï¼›softæˆ–hardæŒ‡å®šè¦ä¿®æ”¹è½¯é™åˆ¶è¿˜æ˜¯ç¡¬é™åˆ¶ï¼›65536åˆ™æŒ‡å®šäº†æƒ³è¦ä¿®æ”¹çš„æ–°çš„é™åˆ¶å€¼ï¼Œå³æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°(è¯·æ³¨æ„è½¯é™åˆ¶å€¼è¦å°äºæˆ–ç­‰äºç¡¬é™åˆ¶)ã€‚ä¿®æ”¹å®Œåä¿å­˜æ–‡ä»¶ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼Œä¿®æ”¹/etc/pam.d/loginæ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æ·»åŠ å¦‚ä¸‹è¡Œï¼š</p>
<pre><code># vim /etc/pam.d/login
session required /lib/security/pam_limits.so
</code></pre>
<p>è¿™æ˜¯å‘Šè¯‰Linuxåœ¨ç”¨æˆ·å®Œæˆç³»ç»Ÿç™»å½•åï¼Œåº”è¯¥è°ƒç”¨pam_limits.soæ¨¡å—æ¥è®¾ç½®ç³»ç»Ÿå¯¹è¯¥ç”¨æˆ·å¯ä½¿ç”¨çš„å„ç§èµ„æºæ•°é‡çš„æœ€å¤§é™åˆ¶(åŒ…æ‹¬ç”¨æˆ·å¯æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°é™åˆ¶)ï¼Œè€Œpam_limits.soæ¨¡å—å°±ä¼šä»/etc/security/limits.confæ–‡ä»¶ä¸­è¯»å–é…ç½®æ¥è®¾ç½®è¿™äº›é™åˆ¶å€¼ã€‚ä¿®æ”¹å®Œåä¿å­˜æ­¤æ–‡ä»¶ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ï¼ŒæŸ¥çœ‹Linuxç³»ç»Ÿçº§çš„æœ€å¤§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ï¼š</p>
<pre><code># cat /proc/sys/fs/file-max
32568
</code></pre>
<p>è¿™è¡¨æ˜è¿™å°Linuxç³»ç»Ÿæœ€å¤šå…è®¸åŒæ—¶æ‰“å¼€(å³åŒ…å«æ‰€æœ‰ç”¨æˆ·æ‰“å¼€æ–‡ä»¶æ•°æ€»å’Œ)32568ä¸ªæ–‡ä»¶ï¼Œæ˜¯Linuxç³»ç»Ÿçº§ç¡¬é™åˆ¶ï¼Œæ‰€æœ‰ç”¨æˆ·çº§çš„æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶éƒ½ä¸åº”è¶…è¿‡è¿™ä¸ªæ•°å€¼ã€‚é€šå¸¸è¿™ä¸ªç³»ç»Ÿçº§ç¡¬é™åˆ¶æ˜¯Linuxç³»ç»Ÿåœ¨å¯åŠ¨æ—¶æ ¹æ®ç³»ç»Ÿç¡¬ä»¶èµ„æºçŠ¶å†µè®¡ç®—å‡ºæ¥çš„æœ€ä½³çš„æœ€å¤§åŒæ—¶æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šéœ€è¦ï¼Œä¸åº”è¯¥ä¿®æ”¹æ­¤é™åˆ¶ï¼Œé™¤éæƒ³ä¸ºç”¨æˆ·çº§æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶è®¾ç½®è¶…è¿‡æ­¤é™åˆ¶çš„å€¼ã€‚ä¿®æ”¹æ­¤ç¡¬é™åˆ¶çš„æ–¹æ³•æ˜¯ä¿®æ”¹/etc/sysctl.confæ–‡ä»¶å†…fs.file-max= 131072</p>
<p>è¿™æ˜¯è®©Linuxåœ¨å¯åŠ¨å®Œæˆåå¼ºè¡Œå°†ç³»ç»Ÿçº§æ‰“å¼€æ–‡ä»¶æ•°ç¡¬é™åˆ¶è®¾ç½®ä¸º131072ã€‚ä¿®æ”¹å®Œåä¿å­˜æ­¤æ–‡ä»¶ã€‚</p>
<p>å®Œæˆä¸Šè¿°æ­¥éª¤åé‡å¯ç³»ç»Ÿï¼Œä¸€èˆ¬æƒ…å†µä¸‹å°±å¯ä»¥å°†Linuxç³»ç»Ÿå¯¹æŒ‡å®šç”¨æˆ·çš„å•ä¸€è¿›ç¨‹å…è®¸åŒæ—¶æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°é™åˆ¶è®¾ä¸ºæŒ‡å®šçš„æ•°å€¼ã€‚å¦‚æœé‡å¯åç”¨ulimit-nå‘½ä»¤æŸ¥çœ‹ç”¨æˆ·å¯æ‰“å¼€æ–‡ä»¶æ•°é™åˆ¶ä»ç„¶ä½äºä¸Šè¿°æ­¥éª¤ä¸­è®¾ç½®çš„æœ€å¤§å€¼ï¼Œè¿™å¯èƒ½æ˜¯å› ä¸ºåœ¨ç”¨æˆ·ç™»å½•è„šæœ¬/etc/profileä¸­ä½¿ç”¨ulimit-nå‘½ä»¤å·²ç»å°†ç”¨æˆ·å¯åŒæ—¶æ‰“å¼€çš„æ–‡ä»¶æ•°åšäº†é™åˆ¶ã€‚ç”±äºé€šè¿‡ulimit-nä¿®æ”¹ç³»ç»Ÿå¯¹ç”¨æˆ·å¯åŒæ—¶æ‰“å¼€æ–‡ä»¶çš„æœ€å¤§æ•°é™åˆ¶æ—¶ï¼Œæ–°ä¿®æ”¹çš„å€¼åªèƒ½å°äºæˆ–ç­‰äºä¸Šæ¬¡ulimit-nè®¾ç½®çš„å€¼ï¼Œå› æ­¤æƒ³ç”¨æ­¤å‘½ä»¤å¢å¤§è¿™ä¸ªé™åˆ¶å€¼æ˜¯ä¸å¯èƒ½çš„ã€‚æ‰€ä»¥ï¼Œå¦‚æœæœ‰ä¸Šè¿°é—®é¢˜å­˜åœ¨ï¼Œå°±åªèƒ½å»æ‰“å¼€/etc/profileè„šæœ¬æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶ä¸­æŸ¥æ‰¾æ˜¯å¦ä½¿ç”¨äº†ulimit-né™åˆ¶äº†ç”¨æˆ·å¯åŒæ—¶æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æ•°é‡ï¼Œå¦‚æœæ‰¾åˆ°ï¼Œåˆ™åˆ é™¤è¿™è¡Œå‘½ä»¤ï¼Œæˆ–è€…å°†å…¶è®¾ç½®çš„å€¼æ”¹ä¸ºåˆé€‚çš„å€¼ï¼Œç„¶åä¿å­˜æ–‡ä»¶ï¼Œç”¨æˆ·é€€å‡ºå¹¶é‡æ–°ç™»å½•ç³»ç»Ÿå³å¯ã€‚</p>
<p>é€šè¿‡ä¸Šè¿°æ­¥éª¤ï¼Œå°±ä¸ºæ”¯æŒé«˜å¹¶å‘TCPè¿æ¥å¤„ç†çš„é€šè®¯å¤„ç†ç¨‹åºè§£é™¤å…³äºæ‰“å¼€æ–‡ä»¶æ•°é‡æ–¹é¢çš„ç³»ç»Ÿé™åˆ¶ã€‚</p>
<h4 id="å†…æ ¸tcpå‚æ•°æ–¹é¢">å†…æ ¸TCPå‚æ•°æ–¹é¢</h4>
<p>Linuxç³»ç»Ÿä¸‹ï¼ŒTCPè¿æ¥æ–­å¼€åï¼Œä¼šä»¥TIME_WAITçŠ¶æ€ä¿ç•™ä¸€å®šçš„æ—¶é—´ï¼Œç„¶åæ‰ä¼šé‡Šæ”¾ç«¯å£ã€‚å½“å¹¶å‘è¯·æ±‚è¿‡å¤šçš„æ—¶å€™ï¼Œå°±ä¼šäº§ç”Ÿå¤§é‡çš„TIME_WAITçŠ¶æ€çš„è¿æ¥ï¼Œæ— æ³•åŠæ—¶æ–­å¼€çš„è¯ï¼Œä¼šå ç”¨å¤§é‡çš„ç«¯å£èµ„æºå’ŒæœåŠ¡å™¨èµ„æºã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å¯ä»¥ä¼˜åŒ–TCPçš„å†…æ ¸å‚æ•°ï¼Œæ¥åŠæ—¶å°†TIME_WAITçŠ¶æ€çš„ç«¯å£æ¸…ç†æ‰ã€‚</p>
<p>ä¸‹é¢ä»‹ç»çš„æ–¹æ³•åªå¯¹æ‹¥æœ‰å¤§é‡TIME_WAITçŠ¶æ€çš„è¿æ¥å¯¼è‡´ç³»ç»Ÿèµ„æºæ¶ˆè€—æœ‰æ•ˆï¼Œå¦‚æœä¸æ˜¯è¿™ç§æƒ…å†µä¸‹ï¼Œæ•ˆæœå¯èƒ½ä¸æ˜æ˜¾ã€‚å¯ä»¥ä½¿ç”¨netstatå‘½ä»¤å»æŸ¥TIME_WAITçŠ¶æ€çš„è¿æ¥çŠ¶æ€ï¼Œè¾“å…¥ä¸‹é¢çš„ç»„åˆå‘½ä»¤ï¼ŒæŸ¥çœ‹å½“å‰TCPè¿æ¥çš„çŠ¶æ€å’Œå¯¹åº”çš„è¿æ¥æ•°é‡ï¼š</p>
<pre><code># netstat -n | awk '/^tcp/ {++S[$NF]} END {for(a in S) print a, S[a]}'
</code></pre>
<p>è¿™ä¸ªå‘½ä»¤ä¼šè¾“å‡ºç±»ä¼¼ä¸‹é¢çš„ç»“æœï¼š</p>
<p>LAST_ACK16<br>
SYN_RECV348<br>
ESTABLISHED70<br>
FIN_WAIT1229<br>
FIN_WAIT230<br>
CLOSING33<br>
TIME_WAIT18098</p>
<p>æˆ‘ä»¬åªç”¨å…³å¿ƒTIME_WAITçš„ä¸ªæ•°ï¼Œåœ¨è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæœ‰18000å¤šä¸ªTIME_WAITï¼Œè¿™æ ·å°±å ç”¨äº†18000å¤šä¸ªç«¯å£ã€‚è¦çŸ¥é“ç«¯å£çš„æ•°é‡åªæœ‰65535ä¸ªï¼Œå ç”¨ä¸€ä¸ªå°‘ä¸€ä¸ªï¼Œä¼šä¸¥é‡çš„å½±å“åˆ°åç»§çš„æ–°è¿æ¥ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°±æœ‰å¿…è¦è°ƒæ•´ä¸‹Linuxçš„TCPå†…æ ¸å‚æ•°ï¼Œè®©ç³»ç»Ÿæ›´å¿«çš„é‡Šæ”¾TIME_WAITè¿æ¥ã€‚</p>
<p>ç¼–è¾‘é…ç½®æ–‡ä»¶:/etc/sysctl.confï¼Œåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ï¼ŒåŠ å…¥ä¸‹é¢çš„å‡ è¡Œå†…å®¹ï¼š</p>
<pre><code># vim /etc/sysctl.conf
net.ipv4.tcp_syncookies= 1
net.ipv4.tcp_tw_reuse= 1
net.ipv4.tcp_tw_recycle= 1
net.ipv4.tcp_fin_timeout= 30
</code></pre>
<p>è¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼Œè®©å†…æ ¸å‚æ•°ç”Ÿæ•ˆï¼š</p>
<pre><code># sysctl -p
</code></pre>
<p>ç®€å•çš„è¯´æ˜ä¸Šé¢çš„å‚æ•°çš„å«ä¹‰ï¼š</p>
<pre><code>net.ipv4.tcp_syncookies= 1
#è¡¨ç¤ºå¼€å¯SYNCookiesã€‚å½“å‡ºç°SYNç­‰å¾…é˜Ÿåˆ—æº¢å‡ºæ—¶ï¼Œå¯ç”¨cookiesæ¥å¤„ç†ï¼Œå¯é˜²èŒƒå°‘é‡SYN***ï¼Œé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºå…³é—­ï¼›

net.ipv4.tcp_tw_reuse= 1
#è¡¨ç¤ºå¼€å¯é‡ç”¨ã€‚å…è®¸å°†TIME-WAITsocketsé‡æ–°ç”¨äºæ–°çš„TCPè¿æ¥ï¼Œé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºå…³é—­ï¼›

net.ipv4.tcp_tw_recycle= 1
#è¡¨ç¤ºå¼€å¯TCPè¿æ¥ä¸­TIME-WAITsocketsçš„å¿«é€Ÿå›æ”¶ï¼Œé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºå…³é—­ï¼›

net.ipv4.tcp_fin_timeout
#ä¿®æ”¹ç³»çµ±é»˜è®¤çš„TIMEOUT æ—¶é—´ã€‚
</code></pre>
<p>åœ¨ç»è¿‡è¿™æ ·çš„è°ƒæ•´ä¹‹åï¼Œé™¤äº†ä¼šè¿›ä¸€æ­¥æå‡æœåŠ¡å™¨çš„è´Ÿè½½èƒ½åŠ›ä¹‹å¤–ï¼Œè¿˜èƒ½å¤Ÿé˜²å¾¡å°æµé‡ç¨‹åº¦çš„DoSã€CCå’ŒSYN***ã€‚</p>
<p>æ­¤å¤–ï¼Œå¦‚æœä½ çš„è¿æ¥æ•°æœ¬èº«å°±å¾ˆå¤šï¼Œæˆ‘ä»¬å¯ä»¥å†ä¼˜åŒ–ä¸€ä¸‹TCPçš„å¯ä½¿ç”¨ç«¯å£èŒƒå›´ï¼Œè¿›ä¸€æ­¥æå‡æœåŠ¡å™¨çš„å¹¶å‘èƒ½åŠ›ã€‚ä¾ç„¶æ˜¯å¾€ä¸Šé¢çš„å‚æ•°æ–‡ä»¶ä¸­ï¼ŒåŠ å…¥ä¸‹é¢è¿™äº›é…ç½®ï¼š</p>
<pre><code>net.ipv4.tcp_keepalive_time= 1200
net.ipv4.ip_local_port_range= 1024 65535
net.ipv4.tcp_max_syn_backlog= 8192
net.ipv4.tcp_max_tw_buckets= 5000
</code></pre>
<p>è¿™å‡ ä¸ªå‚æ•°ï¼Œå»ºè®®åªåœ¨æµé‡éå¸¸å¤§çš„æœåŠ¡å™¨ä¸Šå¼€å¯ï¼Œä¼šæœ‰æ˜¾è‘—çš„æ•ˆæœã€‚ä¸€èˆ¬çš„æµé‡å°çš„æœåŠ¡å™¨ä¸Šï¼Œæ²¡æœ‰å¿…è¦å»è®¾ç½®è¿™å‡ ä¸ªå‚æ•°ã€‚</p>
<pre><code>net.ipv4.tcp_keepalive_time= 1200
#è¡¨ç¤ºå½“keepaliveèµ·ç”¨çš„æ—¶å€™ï¼ŒTCPå‘é€keepaliveæ¶ˆæ¯çš„é¢‘åº¦ã€‚ç¼ºçœæ˜¯2å°æ—¶ï¼Œæ”¹ä¸º20åˆ†é’Ÿã€‚

net.ipv4.ip_local_port_range= 1024 65535
#è¡¨ç¤ºç”¨äºå‘å¤–è¿æ¥çš„ç«¯å£èŒƒå›´ã€‚ç¼ºçœæƒ…å†µä¸‹å¾ˆå°ï¼Œæ”¹ä¸º1024åˆ°65535ã€‚

net.ipv4.tcp_max_syn_backlog= 8192
#è¡¨ç¤ºSYNé˜Ÿåˆ—çš„é•¿åº¦ï¼Œé»˜è®¤ä¸º1024ï¼ŒåŠ å¤§é˜Ÿåˆ—é•¿åº¦ä¸º8192ï¼Œå¯ä»¥å®¹çº³æ›´å¤šç­‰å¾…è¿æ¥çš„ç½‘ç»œè¿æ¥æ•°ã€‚

net.ipv4.tcp_max_tw_buckets= 5000
#è¡¨ç¤ºç³»ç»ŸåŒæ—¶ä¿æŒTIME_WAITçš„æœ€å¤§æ•°é‡ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å­—ï¼ŒTIME_WAITå°†ç«‹åˆ»è¢«æ¸…é™¤å¹¶æ‰“å°è­¦å‘Šä¿¡æ¯ã€‚é»˜è®¤ä¸º180000ï¼Œæ”¹ä¸º5000ã€‚æ­¤é¡¹å‚æ•°å¯ä»¥æ§åˆ¶TIME_WAITçš„æœ€å¤§æ•°é‡ï¼Œåªè¦è¶…å‡ºäº†ã€‚
</code></pre>
<h4 id="å†…æ ¸å…¶ä»–tcpå‚æ•°è¯´æ˜">å†…æ ¸å…¶ä»–TCPå‚æ•°è¯´æ˜ï¼š</h4>
<pre><code>net.ipv4.tcp_max_syn_backlog= 65536
#è®°å½•çš„é‚£äº›å°šæœªæ”¶åˆ°å®¢æˆ·ç«¯ç¡®è®¤ä¿¡æ¯çš„è¿æ¥è¯·æ±‚çš„æœ€å¤§å€¼ã€‚å¯¹äºæœ‰128Må†…å­˜çš„ç³»ç»Ÿè€Œè¨€ï¼Œç¼ºçœå€¼æ˜¯1024ï¼Œå°å†…å­˜çš„ç³»ç»Ÿåˆ™æ˜¯128ã€‚

net.core.netdev_max_backlog= 32768
#æ¯ä¸ªç½‘ç»œæ¥å£æ¥æ”¶æ•°æ®åŒ…çš„é€Ÿç‡æ¯”å†…æ ¸å¤„ç†è¿™äº›åŒ…çš„é€Ÿç‡å¿«æ—¶ï¼Œå…è®¸é€åˆ°é˜Ÿåˆ—çš„æ•°æ®åŒ…çš„æœ€å¤§æ•°ç›®ã€‚

net.core.somaxconn= 32768
#ä¾‹å¦‚webåº”ç”¨ä¸­listenå‡½æ•°çš„backlogé»˜è®¤ä¼šç»™æˆ‘ä»¬å†…æ ¸å‚æ•°çš„net.core.somaxconné™åˆ¶åˆ°128ï¼Œè€Œnginxå®šä¹‰çš„NGX_LISTEN_BACKLOGé»˜è®¤ä¸º511ï¼Œæ‰€ä»¥æœ‰å¿…è¦è°ƒæ•´è¿™ä¸ªå€¼ã€‚

net.core.wmem_default= 8388608
net.core.rmem_default= 8388608
net.core.rmem_max= 16777216          #æœ€å¤§socketè¯»buffer,å¯å‚è€ƒçš„ä¼˜åŒ–å€¼:873200
net.core.wmem_max= 16777216          #æœ€å¤§socketå†™buffer,å¯å‚è€ƒçš„ä¼˜åŒ–å€¼:873200
net.ipv4.tcp_timestsmps= 0
#æ—¶é—´æˆ³å¯ä»¥é¿å…åºåˆ—å·çš„å·ç»•ã€‚ä¸€ä¸ª1Gbpsçš„é“¾è·¯è‚¯å®šä¼šé‡åˆ°ä»¥å‰ç”¨è¿‡çš„åºåˆ—å·ã€‚æ—¶é—´æˆ³èƒ½å¤Ÿè®©å†…æ ¸æ¥å—è¿™ç§â€œå¼‚å¸¸â€çš„æ•°æ®åŒ…ã€‚è¿™é‡Œéœ€è¦å°†å…¶å…³æ‰ã€‚

net.ipv4.tcp_synack_retries= 2
#ä¸ºäº†æ‰“å¼€å¯¹ç«¯çš„è¿æ¥ï¼Œå†…æ ¸éœ€è¦å‘é€ä¸€ä¸ªSYNå¹¶é™„å¸¦ä¸€ä¸ªå›åº”å‰é¢ä¸€ä¸ªSYNçš„ACKã€‚ä¹Ÿå°±æ˜¯æ‰€è°“ä¸‰æ¬¡æ¡æ‰‹ä¸­çš„ç¬¬äºŒæ¬¡æ¡æ‰‹ã€‚è¿™ä¸ªè®¾ç½®å†³å®šäº†å†…æ ¸æ”¾å¼ƒè¿æ¥ä¹‹å‰å‘é€SYN+ACKåŒ…çš„æ•°é‡ã€‚

net.ipv4.tcp_syn_retries= 2
#åœ¨å†…æ ¸æ”¾å¼ƒå»ºç«‹è¿æ¥ä¹‹å‰å‘é€SYNåŒ…çš„æ•°é‡ã€‚

#net.ipv4.tcp_tw_len= 1
net.ipv4.tcp_tw_reuse= 1
# å¼€å¯é‡ç”¨ã€‚å…è®¸å°†TIME-WAITsocketsé‡æ–°ç”¨äºæ–°çš„TCPè¿æ¥ã€‚

net.ipv4.tcp_wmem= 8192 436600 873200
# TCPå†™buffer,å¯å‚è€ƒçš„ä¼˜åŒ–å€¼:8192 436600 873200

net.ipv4.tcp_rmem  = 32768 436600 873200
# TCPè¯»buffer,å¯å‚è€ƒçš„ä¼˜åŒ–å€¼:32768 436600 873200

net.ipv4.tcp_mem= 94500000 91500000 92700000
# åŒæ ·æœ‰3ä¸ªå€¼,æ„æ€æ˜¯:
net.ipv4.tcp_mem[0]:ä½äºæ­¤å€¼ï¼ŒTCPæ²¡æœ‰å†…å­˜å‹åŠ›ã€‚
net.ipv4.tcp_mem[1]:åœ¨æ­¤å€¼ä¸‹ï¼Œè¿›å…¥å†…å­˜å‹åŠ›é˜¶æ®µã€‚
net.ipv4.tcp_mem[2]:é«˜äºæ­¤å€¼ï¼ŒTCPæ‹’ç»åˆ†é…socketã€‚
ä¸Šè¿°å†…å­˜å•ä½æ˜¯é¡µï¼Œè€Œä¸æ˜¯å­—èŠ‚ã€‚å¯å‚è€ƒçš„ä¼˜åŒ–å€¼æ˜¯:7864321048576 1572864

net.ipv4.tcp_max_orphans= 3276800
#ç³»ç»Ÿä¸­æœ€å¤šæœ‰å¤šå°‘ä¸ªTCPå¥—æ¥å­—ä¸è¢«å…³è”åˆ°ä»»ä½•ä¸€ä¸ªç”¨æˆ·æ–‡ä»¶å¥æŸ„ä¸Šã€‚
å¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å­—ï¼Œè¿æ¥å°†å³åˆ»è¢«å¤ä½å¹¶æ‰“å°å‡ºè­¦å‘Šä¿¡æ¯ã€‚
è¿™ä¸ªé™åˆ¶ä»…ä»…æ˜¯ä¸ºäº†é˜²æ­¢ç®€å•çš„DoS***ï¼Œä¸èƒ½è¿‡åˆ†ä¾é å®ƒæˆ–è€…äººä¸ºåœ°å‡å°è¿™ä¸ªå€¼ï¼Œ
æ›´åº”è¯¥å¢åŠ è¿™ä¸ªå€¼(å¦‚æœå¢åŠ äº†å†…å­˜ä¹‹å)ã€‚

net.ipv4.tcp_fin_timeout= 30
#å¦‚æœå¥—æ¥å­—ç”±æœ¬ç«¯è¦æ±‚å…³é—­ï¼Œè¿™ä¸ªå‚æ•°å†³å®šäº†å®ƒä¿æŒåœ¨FIN-WAIT-2çŠ¶æ€çš„æ—¶é—´ã€‚å¯¹ç«¯å¯ä»¥å‡ºé”™å¹¶æ°¸è¿œä¸å…³é—­è¿æ¥ï¼Œç”šè‡³æ„å¤–å½“æœºã€‚ç¼ºçœå€¼æ˜¯60ç§’ã€‚2.2 å†…æ ¸çš„é€šå¸¸å€¼æ˜¯180ç§’ï¼Œä½ å¯ä»¥æŒ‰è¿™ä¸ªè®¾ç½®ï¼Œä½†è¦è®°ä½çš„æ˜¯ï¼Œå³ä½¿ä½ çš„æœºå™¨æ˜¯ä¸€ä¸ªè½»è½½çš„WEBæœåŠ¡å™¨ï¼Œä¹Ÿæœ‰å› ä¸ºå¤§é‡çš„æ­»å¥—æ¥å­—è€Œå†…å­˜æº¢å‡ºçš„é£é™©ï¼ŒFIN-WAIT-2çš„å±é™©æ€§æ¯”FIN-WAIT-1è¦å°ï¼Œå› ä¸ºå®ƒæœ€å¤šåªèƒ½åƒæ‰1.5Kå†…å­˜ï¼Œä½†æ˜¯å®ƒä»¬çš„ç”Ÿå­˜æœŸé•¿äº›ã€‚
</code></pre>
<p>åŒæ—¶è¿˜æ¶‰åŠåˆ°ä¸€ä¸ªTCP æ‹¥å¡ç®—æ³•çš„é—®é¢˜ï¼Œä½ å¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹æœ¬æœºæä¾›çš„æ‹¥å¡ç®—æ³•æ§åˆ¶æ¨¡å—ï¼š</p>
<p>sysctlnet.ipv4.tcp_available_congestion_control</p>
<p>å¯¹äºå‡ ç§ç®—æ³•çš„åˆ†æï¼Œè¯¦æƒ…å¯ä»¥å‚è€ƒä¸‹ï¼šTCPæ‹¥å¡æ§åˆ¶ç®—æ³•çš„ä¼˜ç¼ºç‚¹ã€é€‚ç”¨ç¯å¢ƒã€æ€§èƒ½åˆ†æï¼Œæ¯”å¦‚é«˜å»¶æ—¶å¯ä»¥è¯•ç”¨hyblaï¼Œä¸­ç­‰å»¶æ—¶å¯ä»¥è¯•ç”¨htcpç®—æ³•ç­‰ã€‚</p>
<pre><code>å¦‚æœæƒ³è®¾ç½®TCP æ‹¥å¡ç®—æ³•ä¸ºhybla
net.ipv4.tcp_congestion_control=hybla

é¢å¤–çš„ï¼Œå¯¹äºå†…æ ¸ç‰ˆé«˜äºäº3.7.1çš„ï¼Œæˆ‘ä»¬å¯ä»¥å¼€å¯tcp_fastopenï¼š
net.ipv4.tcp_fastopen= 3
</code></pre>
<h4 id="ioäº‹ä»¶åˆ†é…æœºåˆ¶">IOäº‹ä»¶åˆ†é…æœºåˆ¶</h4>
<p>åœ¨Linuxå¯ç”¨é«˜å¹¶å‘TCPè¿æ¥ï¼Œå¿…é¡»ç¡®è®¤åº”ç”¨ç¨‹åºæ˜¯å¦ä½¿ç”¨äº†åˆé€‚çš„ç½‘ç»œI/OæŠ€æœ¯å’ŒI/Oäº‹ä»¶åˆ†æ´¾æœºåˆ¶ã€‚å¯ç”¨çš„I/OæŠ€æœ¯æœ‰åŒæ­¥I/Oï¼Œéé˜»å¡å¼åŒæ­¥I/Oï¼Œä»¥åŠå¼‚æ­¥I/Oã€‚åœ¨é«˜TCPå¹¶å‘çš„æƒ…å½¢ä¸‹ï¼Œå¦‚æœä½¿ç”¨åŒæ­¥I/Oï¼Œè¿™ä¼šä¸¥é‡é˜»å¡ç¨‹åºçš„è¿è½¬ï¼Œé™¤éä¸ºæ¯ä¸ªTCPè¿æ¥çš„I/Oåˆ›å»ºä¸€ä¸ªçº¿ç¨‹ã€‚ä½†æ˜¯ï¼Œè¿‡å¤šçš„çº¿ç¨‹åˆä¼šå› ç³»ç»Ÿå¯¹çº¿ç¨‹çš„è°ƒåº¦é€ æˆå·¨å¤§å¼€é”€ã€‚å› æ­¤ï¼Œåœ¨é«˜TCPå¹¶å‘çš„æƒ…å½¢ä¸‹ä½¿ç”¨åŒæ­¥I/Oæ˜¯ä¸å¯å–çš„ï¼Œè¿™æ—¶å¯ä»¥è€ƒè™‘ä½¿ç”¨éé˜»å¡å¼åŒæ­¥I/Oæˆ–å¼‚æ­¥I/Oã€‚éé˜»å¡å¼åŒæ­¥I/Oçš„æŠ€æœ¯åŒ…æ‹¬ä½¿ç”¨select()ï¼Œpoll()ï¼Œepollç­‰æœºåˆ¶ã€‚å¼‚æ­¥I/Oçš„æŠ€æœ¯å°±æ˜¯ä½¿ç”¨AIOã€‚</p>
<p>ä»I/Oäº‹ä»¶åˆ†æ´¾æœºåˆ¶æ¥çœ‹ï¼Œä½¿ç”¨select()æ˜¯ä¸åˆé€‚çš„ï¼Œå› ä¸ºå®ƒæ‰€æ”¯æŒçš„å¹¶å‘è¿æ¥æ•°æœ‰é™(é€šå¸¸åœ¨1024ä¸ªä»¥å†…)ã€‚å¦‚æœè€ƒè™‘æ€§èƒ½ï¼Œpoll()ä¹Ÿæ˜¯ä¸åˆé€‚çš„ï¼Œå°½ç®¡å®ƒå¯ä»¥æ”¯æŒçš„è¾ƒé«˜çš„TCPå¹¶å‘æ•°ï¼Œä½†æ˜¯ç”±äºå…¶é‡‡ç”¨â€œè½®è¯¢â€æœºåˆ¶ï¼Œå½“å¹¶å‘æ•°è¾ƒé«˜æ—¶ï¼Œå…¶è¿è¡Œæ•ˆç‡ç›¸å½“ä½ï¼Œå¹¶å¯èƒ½å­˜åœ¨I/Oäº‹ä»¶åˆ†æ´¾ä¸å‡ï¼Œå¯¼è‡´éƒ¨åˆ†TCPè¿æ¥ä¸Šçš„I/Oå‡ºç°â€œé¥¥é¥¿â€ç°è±¡ã€‚è€Œå¦‚æœä½¿ç”¨epollæˆ–AIOï¼Œåˆ™æ²¡æœ‰ä¸Šè¿°é—®é¢˜(æ—©æœŸLinuxå†…æ ¸çš„AIOæŠ€æœ¯å®ç°æ˜¯é€šè¿‡åœ¨å†…æ ¸ä¸­ä¸ºæ¯ä¸ªI/Oè¯·æ±‚åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ¥å®ç°çš„ï¼Œè¿™ç§å®ç°æœºåˆ¶åœ¨é«˜å¹¶å‘TCPè¿æ¥çš„æƒ…å½¢ä¸‹ä½¿ç”¨å…¶å®ä¹Ÿæœ‰ä¸¥é‡çš„æ€§èƒ½é—®é¢˜ã€‚ä½†åœ¨æœ€æ–°çš„Linuxå†…æ ¸ä¸­ï¼ŒAIOçš„å®ç°å·²ç»å¾—åˆ°æ”¹è¿›)ã€‚</p>
<p>ç»¼ä¸Šæ‰€è¿°ï¼Œåœ¨å¼€å‘æ”¯æŒé«˜å¹¶å‘TCPè¿æ¥çš„Linuxåº”ç”¨ç¨‹åºæ—¶ï¼Œåº”å°½é‡ä½¿ç”¨epollæˆ–AIOæŠ€æœ¯æ¥å®ç°å¹¶å‘çš„TCPè¿æ¥ä¸Šçš„I/Oæ§åˆ¶ï¼Œè¿™å°†ä¸ºæå‡ç¨‹åºå¯¹é«˜å¹¶å‘TCPè¿æ¥çš„æ”¯æŒæä¾›æœ‰æ•ˆçš„I/Oä¿è¯ã€‚</p>
<p>ç»è¿‡è¿™æ ·çš„ä¼˜åŒ–é…ç½®ä¹‹åï¼ŒæœåŠ¡å™¨çš„TCPå¹¶å‘å¤„ç†èƒ½åŠ›ä¼šæ˜¾è‘—æé«˜ã€‚ä»¥ä¸Šé…ç½®ä»…ä¾›å‚è€ƒï¼Œç”¨äºç”Ÿäº§ç¯å¢ƒè¯·æ ¹æ®è‡ªå·±çš„å®é™…æƒ…å†µè°ƒæ•´è§‚å¯Ÿå†è°ƒæ•´ã€‚</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[å¸¸ç”¨ç®—æ³•é€Ÿè®°-Python]]></title>
        <id>https://huyuwei1996.github.io/post/chang-yong-suan-fa-su-ji-python/</id>
        <link href="https://huyuwei1996.github.io/post/chang-yong-suan-fa-su-ji-python/">
        </link>
        <updated>2019-09-05T15:38:26.000Z</updated>
        <content type="html"><![CDATA[<h1 id="10-åå¤§ç»å…¸æ’åºç®—æ³•">1.0 åå¤§ç»å…¸æ’åºç®—æ³•</h1>
<figure data-type="image" tabindex="1"><img src="https://www.runoob.com/wp-content/uploads/2019/03/sort.png" alt="img" loading="lazy"></figure>
<figure data-type="image" tabindex="2"><img src="https://www.runoob.com/wp-content/uploads/2019/03/0B319B38-B70E-4118-B897-74EFA7E368F9.png" alt="img" loading="lazy"></figure>
<h1 id="11-å†’æ³¡æ’åº">1.1 å†’æ³¡æ’åº</h1>
<figure data-type="image" tabindex="3"><img src="https://www.runoob.com/wp-content/uploads/2019/03/bubbleSort.gif" alt="img" loading="lazy"></figure>
<pre><code class="language-python">def bubbleSort(arr):
    for i in range(1, len(arr)):
        for j in range(0, len(arr)-i):
            if arr[j] &gt; arr[j+1]:
                arr[j], arr[j + 1] = arr[j + 1], arr[j]
    return arr
</code></pre>
<h1 id="12-é€‰æ‹©æ’åº">1.2 é€‰æ‹©æ’åº</h1>
<figure data-type="image" tabindex="4"><img src="https://www.runoob.com/wp-content/uploads/2019/03/selectionSort.gif" alt="img" loading="lazy"></figure>
<pre><code class="language-python">def selectionSort(arr):
    for i in range(len(arr) - 1):
        # è®°å½•æœ€å°æ•°çš„ç´¢å¼•
        minIndex = i
        for j in range(i + 1, len(arr)):
            if arr[j] &lt; arr[minIndex]:
                minIndex = j
        # i ä¸æ˜¯æœ€å°æ•°æ—¶ï¼Œå°† i å’Œæœ€å°æ•°è¿›è¡Œäº¤æ¢
        if i != minIndex:
            arr[i], arr[minIndex] = arr[minIndex], arr[i]
    return arr
</code></pre>
<h1 id="13-æ’å…¥æ’åº">1.3 æ’å…¥æ’åº</h1>
<figure data-type="image" tabindex="5"><img src="https://www.runoob.com/wp-content/uploads/2019/03/insertionSort.gif" alt="img" loading="lazy"></figure>
<pre><code class="language-python">def insertionSort(arr):
    for i in range(len(arr)):
        preIndex = i-1
        current = arr[i]
        while preIndex &gt;= 0 and arr[preIndex] &gt; current:
            arr[preIndex+1] = arr[preIndex]
            preIndex-=1
        arr[preIndex+1] = current
    return arr
</code></pre>
<h1 id="14-å¸Œå°”æ’åº">1.4 å¸Œå°”æ’åº</h1>
<figure data-type="image" tabindex="6"><img src="https://www.runoob.com/wp-content/uploads/2019/03/Sorting_shellsort_anim.gif" alt="img" loading="lazy"></figure>
<pre><code class="language-python">def shellSort(arr):
    import math
    gap=1
    while(gap &lt; len(arr)/3):
        gap = gap*3+1
    while gap &gt; 0:
        for i in range(gap,len(arr)):
            temp = arr[i]
            j = i-gap
            while j &gt;=0 and arr[j] &gt; temp:
                arr[j+gap]=arr[j]
                j-=gap
            arr[j+gap] = temp
        gap = math.floor(gap/3)
    return arr
</code></pre>
<h1 id="15-å½’å¹¶æ’åº">1.5 å½’å¹¶æ’åº</h1>
<figure data-type="image" tabindex="7"><img src="https://www.runoob.com/wp-content/uploads/2019/03/mergeSort.gif" alt="img" loading="lazy"></figure>
<pre><code class="language-python">def mergeSort(arr):
    import math
    if(len(arr)&lt;2):
        return arr
    middle = math.floor(len(arr)/2)
    left, right = arr[0:middle], arr[middle:]
    return merge(mergeSort(left), mergeSort(right))

def merge(left,right):
    result = []
    while left and right:
        if left[0] &lt;= right[0]:
            result.append(left.pop(0))
        else:
            result.append(right.pop(0));
    while left:
        result.append(left.pop(0))
    while right:
        result.append(right.pop(0));
    return result
</code></pre>
<h1 id="16-å¿«é€Ÿæ’åº">1.6 å¿«é€Ÿæ’åº</h1>
<figure data-type="image" tabindex="8"><img src="https://www.runoob.com/wp-content/uploads/2019/03/quickSort.gif" alt="img" loading="lazy"></figure>
<pre><code class="language-python">def quickSort(arr, left=None, right=None):
    left = 0 if not isinstance(left,(int, float)) else left
    right = len(arr)-1 if not isinstance(right,(int, float)) else right
    if left &lt; right:
        partitionIndex = partition(arr, left, right)
        quickSort(arr, left, partitionIndex-1)
        quickSort(arr, partitionIndex+1, right)
    return arr

def partition(arr, left, right):
    pivot = left
    index = pivot+1
    i = index
    while  i &lt;= right:
        if arr[i] &lt; arr[pivot]:
            swap(arr, i, index)
            index+=1
        i+=1
    swap(arr,pivot,index-1)
    return index-1

def swap(arr, i, j):
    arr[i], arr[j] = arr[j], arr[i]
</code></pre>
<h1 id="17-å †æ’åº">1.7 å †æ’åº</h1>
<figure data-type="image" tabindex="9"><img src="https://www.runoob.com/wp-content/uploads/2019/03/heapSort.gif" alt="img" loading="lazy"></figure>
<pre><code class="language-python">def buildMaxHeap(arr):
    import math
    for i in range(math.floor(len(arr)/2),-1,-1):
        heapify(arr,i)

def heapify(arr, i):
    left = 2*i+1
    right = 2*i+2
    largest = i
    if left &lt; arrLen and arr[left] &gt; arr[largest]:
        largest = left
    if right &lt; arrLen and arr[right] &gt; arr[largest]:
        largest = right

    if largest != i:
        swap(arr, i, largest)
        heapify(arr, largest)

def swap(arr, i, j):
    arr[i], arr[j] = arr[j], arr[i]

def heapSort(arr):
    global arrLen
    arrLen = len(arr)
    buildMaxHeap(arr)
    for i in range(len(arr)-1,0,-1):
        swap(arr,0,i)
        arrLen -=1
        heapify(arr, 0)
    return arr
</code></pre>
<h1 id="18-è®¡æ•°æ’åº">1.8 è®¡æ•°æ’åº</h1>
<figure data-type="image" tabindex="10"><img src="https://www.runoob.com/wp-content/uploads/2019/03/countingSort.gif" alt="img" loading="lazy"></figure>
<pre><code class="language-python">def countingSort(arr, maxValue):
    bucketLen = maxValue+1
    bucket = [0]*bucketLen
    sortedIndex =0
    arrLen = len(arr)
    for i in range(arrLen):
        if not bucket[arr[i]]:
            bucket[arr[i]]=0
        bucket[arr[i]]+=1
    for j in range(bucketLen):
        while bucket[j]&gt;0:
            arr[sortedIndex] = j
            sortedIndex+=1
            bucket[j]-=1
    return arr
</code></pre>
<h1 id="19-æ¡¶æ’åº">1.9 æ¡¶æ’åº</h1>
<figure data-type="image" tabindex="11"><img src="https://www.runoob.com/wp-content/uploads/2019/03/Bucket_sort_1.svg_.png" alt="img" loading="lazy"></figure>
<figure data-type="image" tabindex="12"><img src="https://www.runoob.com/wp-content/uploads/2019/03/Bucket_sort_2.svg_.png" alt="img" loading="lazy"></figure>
<h1 id="110-åŸºæ•°æ’åº">1.10 åŸºæ•°æ’åº</h1>
<figure data-type="image" tabindex="13"><img src="https://www.runoob.com/wp-content/uploads/2019/03/radixSort.gif" alt="img" loading="lazy"></figure>
<pre><code class="language-python">def radix(arr):
    
    digit = 0
    max_digit = 1
    max_value = max(arr)
    #æ‰¾å‡ºåˆ—è¡¨ä¸­æœ€å¤§çš„ä½æ•°
    while 10**max_digit &lt; max_value:
        max_digit = max_digit + 1
    
    while digit &lt; max_digit:
        temp = [[] for i in range(10)]
        for i in arr:
            #æ±‚å‡ºæ¯ä¸€ä¸ªå…ƒç´ çš„ä¸ªã€åã€ç™¾ä½çš„å€¼
            t = int((i/10**digit)%10)
            temp[t].append(i)
        
        coll = []
        for bucket in temp:
            for i in bucket:
                coll.append(i)
                
        arr = coll
        digit = digit + 1

    return arr
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[ç†è´¢å°ç™½è¥]]></title>
        <id>https://huyuwei1996.github.io/post/li-cai-xiao-bai-ying/</id>
        <link href="https://huyuwei1996.github.io/post/li-cai-xiao-bai-ying/">
        </link>
        <updated>2019-09-01T15:42:51.000Z</updated>
        <content type="html"><![CDATA[<p>å¾®ä¿¡ä¸ŠæŠ¥äº†ä¸ª9å…ƒçš„è¯¾ç¨‹ï¼Œå‘¨æœ«æŠ½ç©ºè¡¥äº†ä¸‹è¿›åº¦ï¼Œè¿˜æ˜¯å°½å¿«å»è¡¥å®Œè¿›åº¦ï¼Œæ¯å¤©åšæŒäº†è§£ä¸€äº›ã€‚</p>
<h2 id="å…¥é—¨é˜…è¯»">å…¥é—¨é˜…è¯»</h2>
<h3 id="1å°ç‹—é’±é’±"><a href="https://docs.qq.com/doc/DWExvQ2ZmUGhxcmVw">1.ã€Šå°ç‹—é’±é’±ã€‹</a></h3>
<ul>
<li><a href="https://mp.weixin.qq.com/s/N-Al5hsUVihX0ehOy99_Hg">1.1 æƒ³å˜çš„æœ‰é’±ï¼Œè¿™3ä¸ªå»ºè®®å¯ä»¥å¸®ä½ </a>
<ul>
<li>1.1.1 ç¼ºé’±çš„æ—¶å€™ï¼Œé’±å°±æ ¼å¤–é‡è¦</li>
<li>1.1.2 ä¸æƒ³ä¸€è¾ˆå­å°±ç©·ä¸‹å»ï¼Œç°åœ¨å°±è¦å­¦ä¼šç†è´¢</li>
<li>1.1.3 äººçš„ç²¾åŠ›æœ‰é™ï¼Œåˆ é™¤å¹²æ‰°é€‰é¡¹ï¼Œæ‰æ›´æœ‰æœºä¼šå®ç°æ„¿æœ›</li>
<li>1.1.4 æ°¸è¿œä¸è¦è¯•è¯•çœ‹ï¼Œåªæœ‰â€œåšâ€æˆ–â€œä¸åšâ€</li>
<li>æ€»ç»“
<ul>
<li>å†™ä¸‹Top3æ„¿æœ›</li>
<li>åˆ¶ä½œæ¢¦æƒ³ç›¸å†Œâ€”â€”æ¿€åŠ±å’Œæ¨åŠ¨è‡ªå·±</li>
<li>å‡†å¤‡æ¢¦æƒ³å‚¨è“„ç½</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://mp.weixin.qq.com/s/GHm4FIm82t0955xXDeK8TQ">1.2 èµšé’±æ²¡ä½ æƒ³çš„é‚£ä¹ˆéš¾</a>
<ul>
<li>1.2.1 å†™â€œæˆåŠŸæ—¥è®°â€
<ul>
<li>ä»»ä½•å°äº‹éƒ½å¯ä»¥ï¼Œç»™è‡ªå·±åŠ æ²¹ã€è‡ªä¿¡</li>
</ul>
</li>
<li>1.2.2 å•†äººèµšé’±å»ºè®®
<ul>
<li>ä¸ºåˆ«äººè§£å†³é—®é¢˜</li>
<li>æŠŠç²¾åŠ›æ”¾åœ¨ä½ çŸ¥é“çš„äº‹æƒ…å’Œèƒ½å¤Ÿåšçš„äº‹æƒ…ä¸Š</li>
</ul>
</li>
<li>1.2.3 è§‰å¾—é’±éš¾èµšçš„äºº
<ul>
<li>æ²¡æœ‰è®¤çœŸæ€è€ƒ
<ul>
<li>èµšé’±ä½ è¦èŠ±è´¹å¤šå°‘æ—¶é—´ï¼Ÿ</li>
</ul>
</li>
<li>ä¸æ„¿é¢å¯¹å›°éš¾
<ul>
<li>æ‰¾å€Ÿå£ï¼Œæ”¾å¼ƒ</li>
</ul>
</li>
</ul>
</li>
<li>æ€»ç»“
<ul>
<li>å†™â€œæˆåŠŸæ—¥è®°â€ï¼Œå¢åŠ è‡ªä¿¡</li>
<li>åˆ«äººéœ€è¦ä»€ä¹ˆï¼Ÿ</li>
<li>æˆ‘èƒ½åšä»€ä¹ˆï¼Ÿ</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://mp.weixin.qq.com/s/BQ0AjU7epTCusNvL8k7Uog">1.3 99%çš„äººä¸æˆåŠŸï¼Œéƒ½æ˜¯å› ä¸ºå®ƒ</a>
<ul>
<li>1.3.1 é‡åˆ°å›°éš¾çš„æ—¶å€™ï¼Œè¶Šè¦åšæŒè‡ªå·±çš„æƒ³æ³•</li>
<li>1.3.2 è¦æ¯å¤©ä¸é—´æ–­åœ°å»åšå¯¹ä½ æœªæ¥æ„ä¹‰é‡å¤§çš„äº‹
<ul>
<li>21å¤©ç†è®ºâ€”â€”åšæŒ21å¤©å°±ä¼šå˜æˆä¹ æƒ¯</li>
</ul>
</li>
<li>1.3.3 å½“å†³å®šåšä¸€ä»¶äº‹çš„æ—¶å€™ï¼Œå°±è¦ç«‹å³å»åš
<ul>
<li>å¦åˆ™å¾ˆå¯èƒ½æ°¸è¿œä¸ä¼šå†å»åš</li>
</ul>
</li>
<li>æ€»ç»“
<ul>
<li>åšæŒæœ€é‡è¦</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://mp.weixin.qq.com/s/GFq6v8ZpD2-CP_YEqRT6IQ">1.4 ä¸è¦æ€æ­»ä½ çš„é¹…</a>
<ul>
<li>1.4.1 ä¸è¦æ€æ­»ä½ çš„é¹…
<ul>
<li>ä¸è¦èŠ±å…‰æœ¬é‡‘ï¼Œå¦åˆ™æ°¸è¿œä¸ä¼šæœ‰æ”¶ç›Š</li>
</ul>
</li>
<li>æ€»ç»“
<ul>
<li>è´Ÿå€ºçš„äººåº”è¯¥æ‰”æ‰æ‰€æœ‰ä¿¡ç”¨å¡
<ul>
<li>ä½¿ç”¨ä¿¡ç”¨å¡ï¼Œæ€»æ¯”ä½¿ç”¨ç°é‡‘èŠ±çš„å¤š</li>
</ul>
</li>
<li>å°½å¯èƒ½å°‘çš„å¿è¿˜è´·æ¬¾
<ul>
<li>å¦‚æœæ˜¯ä¿¡ç”¨å¡å€ºè¿˜æ˜¯å»ºè®®å…ˆè¿˜å€º</li>
<li>è¿˜è¦è€ƒè™‘é€šè´§è†¨èƒ€ï¼Œä»¥åé’±ä¼šç¼©æ°´</li>
</ul>
</li>
<li>å¯¹äºæ¶ˆè´¹è´·æ¬¾ï¼Œåº”è¯¥å°†ä¸ç”¨äºç”Ÿæ´»çš„é’±å­˜èµ·æ¥ä¸€åŠï¼Œå¦ä¸€åŠç”¨äºè¿˜å€º
<ul>
<li>å­˜é’±ï¼Œä¿è¯å‚¨è“„(æœ¬é‡‘)</li>
</ul>
</li>
<li>æŠŠæƒ³è¦çš„ä¸œè¥¿åˆ†ä¸ºâ€œå¿…è¦ã€éœ€è¦ã€æƒ³è¦â€
<ul>
<li>æ§åˆ¶æ¶ˆè´¹</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="https://mp.weixin.qq.com/s/ICJtLRYf5UYkTpBjgOY8TA">1.5 æŠ•èµ„ï¼Œéµå¾ªè¿™3ä¸ªåŸåˆ™å°±è¶³å¤Ÿäº†</a>
<ul>
<li>1.5.1 ç°é‡‘çš„é‡è¦æ€§ï¼Œåº”å¯¹çªå‘æƒ…å†µ
<ul>
<li>æŠ•èµ„å‰ï¼Œåšå¥½èµ„äº§é…ç½®</li>
</ul>
</li>
<li>1.5.2 é‡‘é’±èƒ½å¦å¸¦æ¥å¹¸ç¦ï¼Œå–å†³äºæ˜¯å¦æ‡‚å¾—æ€æ ·ä½¿ç”¨å®ƒ</li>
<li>1.5.3 ç©·äººæ€ç»´
<ul>
<li>æ‹¿åˆ°é’±ä¹°ä¹°ä¹°ï¼Œåƒå–ç©ä¹ï¼Œå¥¢ä¾ˆäº«å—ï¼Œå¿½ç•¥äº†æŠ•èµ„</li>
</ul>
</li>
<li>1.5.4 å¯Œäººæ€ç»´
<ul>
<li>æ¶ˆè´¹ä¸€äº›é’±ä½œä¸ºå¥–åŠ±ï¼Œå°†80%ç”šè‡³æ›´å¤šçš„é’±æŠ•èµ„ï¼Œç»§ç»­èµšå–æ›´å¤šçš„é’±</li>
</ul>
</li>
<li>æ€»ç»“
<ul>
<li>æŠ•èµ„è¦å®‰å…¨
<ul>
<li>æœ¬é‡‘ä¸èƒ½ä¸§å¤±</li>
</ul>
</li>
<li>è¦æœ‰æ”¶ç›Š
<ul>
<li>å…ˆè¯„ä¼°é£é™©ï¼Œå†è€ƒè™‘æ”¶ç›Šå¤šå°‘</li>
</ul>
</li>
<li>å……åˆ†äº†è§£æŠ•èµ„å¯¹è±¡
<ul>
<li>â€œä¸æ‡‚çš„å°±ä¸è¦ç¢°â€</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2æ™šé—´åˆ†äº«è´¢å¯Œçš„è½½ä½“æ—¶é—´é‡åŒ–æ€ç»´"><a href="https://shimo.im/docs/660f6eab67a74f47/read">2.ã€æ™šé—´åˆ†äº«ã€‘è´¢å¯Œçš„è½½ä½“â€”â€”æ—¶é—´&amp;é‡åŒ–æ€ç»´</a></h3>
<ul>
<li>2.1 å¤§å¤šæ•°äººåœ¨å·¥ä½œå’Œç”Ÿæ´»ä¸­ï¼Œæ›´å¤šåœ°æ³¨æ„é‡‘é’±ï¼Œè€Œå¾ˆå°‘æ³¨æ„â€œæ—¶é—´â€
<ul>
<li>æœ‰é’±äººä¼šæ„Ÿè§‰æ—¶é—´æ¯”é‡‘é’±é‡è¦ï¼Œæ„¿æ„ç”¨é’±ä¹°æ—¶é—´</li>
<li>æ²¡é’±çš„äººæ›´åœ¨ä¹é’±ï¼Œä¸åœ¨ä¹æ—¶é—´ï¼Œæ„¿æ„ç”¨æ—¶é—´åšä¸€äº›æ²¡ä»€ä¹ˆä»·å€¼çš„äº‹æƒ…</li>
</ul>
</li>
<li>2.2 ç©·äººæ€ç»´
<ul>
<li>å› ä¸ºæ²¡é’±ï¼Œæ‰€ä»¥ç¼“ç¼“ï¼›ç­‰æœ‰é’±äº†ï¼Œæ€æ ·æ€æ ·</li>
<li>ä¸ºå…è´¹ã€ç‰¹ä»·ç­‰ï¼Œä»˜å‡ºè¿‡å¤šçš„èµ„æºå’Œæ—¶é—´
<ul>
<li>å¯èƒ½æµªè´¹è¿‡å¤šçš„æ—¶é—´å’Œæ³¨æ„åŠ›</li>
</ul>
</li>
</ul>
</li>
<li>2.3 ç†è´¢æ€ç»´
<ul>
<li>é‡è§†æ—¶é—´æˆæœ¬</li>
</ul>
</li>
<li>2.4 ä¸ç†è´¢ä¸ç­‰äºæ²¡é£é™©ï¼Œé€šè´§è†¨èƒ€å…¶å®å°±æ˜¯æœ€å¤§çš„é£é™©</li>
<li>2.5 â€œæ€•åƒè‹¦ï¼Œåƒè‹¦ä¸€è¾ˆå­ï¼Œä¸æ€•è‹¦ï¼Œåƒè‹¦ä¸€é˜µå­â€</li>
<li>æ€»ç»“
<ul>
<li>æ¯ä¸ªäººçš„æ—¶é—´éƒ½æœ‰ä¸€å®šçš„é‡‘é’±ä»·å€¼
<ul>
<li>ç”¨å‡¡äº‹ä¸è¦å‡­æ„Ÿè§‰ï¼Œç”¨é‡åŒ–æ€ç»´è®¡ç®—ï¼Œé€‰æ‹©æ›´æœ‰ä»·å€¼çš„äº‹åš</li>
</ul>
</li>
<li>é‡‘é’±æ˜¯æœ‰æ—¶é—´ä»·å€¼çš„ï¼Œç°åœ¨çš„é’±æ¯”æœªæ¥æ›´å€¼é’±
<ul>
<li>æé«˜æŠ•èµ„èƒ½åŠ›ï¼Œè®©é’±æ›´å€¼é’±</li>
</ul>
</li>
<li>å­¦ä¹ æ˜¯æœ‰æ—¶é—´æˆæœ¬çš„
<ul>
<li>å­¦çš„è¶Šæ™šï¼Œæ¶ˆè€—è¶Šå¤§</li>
</ul>
</li>
</ul>
</li>
<li>æ‹“å±•çŸ¥è¯†
<ul>
<li>æŠ•èµ„çš„ä¸å¯èƒ½ä¸‰è§’
<ul>
<li>æŠ•èµ„ç†è´¢ç›®æ ‡ä¸­ï¼Œæ”¶ç›Šæ€§ã€å®‰å…¨æ€§ã€æµåŠ¨æ€§ä¸‰è€…ï¼Œæœ€å¤šåªèƒ½å ä¸¤ä¸ª
<ul>
<li>æ”¶ç›Šæ€§ã€å®‰å…¨æ€§ã€ï¼æµåŠ¨æ€§
<ul>
<li>æˆ¿å­</li>
</ul>
</li>
<li>å®‰å…¨æ€§ã€æµåŠ¨æ€§ã€ï¼æ”¶ç›Šæ€§
<ul>
<li>æ´»æœŸå­˜æ¬¾ã€è´§å¸åŸºé‡‘ç­‰</li>
</ul>
</li>
<li>æ”¶ç›Šæ€§ã€æµåŠ¨æ€§ã€ï¼å®‰å…¨æ€§
<ul>
<li>éƒ¨åˆ†P2P</li>
</ul>
</li>
</ul>
</li>
<li>é€šè¿‡æŠ•èµ„èµ„äº§çš„ä¸‰ç§å±æ€§ï¼Œåˆ¤æ–­æŠ•èµ„å“ç§æ˜¯å¦é è°±</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3æ™¨è¯»ç¾æ–‡ä¸¤ç§æ€ç»´æ–¹å¼å†³å®šäº†ä½ åªèƒ½å½“ç©·äºº"><a href="https://docs.qq.com/doc/DR3ZjZHBVdk5adVBa">3.ã€æ™¨è¯»ç¾æ–‡ã€‘ä¸¤ç§æ€ç»´æ–¹å¼å†³å®šäº†ä½ åªèƒ½å½“ç©·äºº</a></h3>
<h3 id="4åˆé—´èŒ¶é¦†å°ç‹—é’±é’±æ‹†è¯»"><a href="https://docs.qq.com/doc/DR2dRWldBR0ZQVGNp">4.ã€åˆé—´èŒ¶é¦†ã€‘ã€Šå°ç‹—é’±é’±ã€‹æ‹†è¯»</a></h3>
<h3 id="5æ™šé—´åˆ†äº«ç©è½¬ä¿¡ç”¨å¡"><a href="https://docs.qq.com/doc/DR25ZdVZkVFhRSnR1">5.ã€æ™šé—´åˆ†äº«ã€‘ç©è½¬ä¿¡ç”¨å¡</a></h3>
<h3 id="6æ™¨è¯»ç¾æ–‡-è¦ä¸ºä½ çš„æœªæ¥èŠ±ç‚¹é’±"><a href="https://docs.qq.com/doc/DWGRkcEx0YWFBVGlO">6.ã€æ™¨è¯»ç¾æ–‡ã€‘-è¦ä¸ºä½ çš„æœªæ¥èŠ±ç‚¹é’±</a></h3>
<p><em>XMind: ZEN - Trial Version</em><br>
<img src="https://huyuwei1996.github.io//post-images/1567352666078.png" alt="" loading="lazy"></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ•°æ®ç»“æ„ä¸ç®—æ³•-Python]]></title>
        <id>https://huyuwei1996.github.io/post/suan-fa-xue-xi-python/</id>
        <link href="https://huyuwei1996.github.io/post/suan-fa-xue-xi-python/">
        </link>
        <updated>2019-08-31T13:21:20.000Z</updated>
        <content type="html"><![CDATA[<h2 id="ç®—æ³•çš„äº”å¤§ç‰¹æ€§">ç®—æ³•çš„äº”å¤§ç‰¹æ€§</h2>
<ol>
<li>
<p><strong>è¾“å…¥</strong>ï¼šç®—æ³•å…·æœ‰0ä¸ªæˆ–è€…å¤šä¸ªè¾“å…¥</p>
</li>
<li>
<p><strong>è¾“å‡º</strong>ï¼šç®—æ³•è‡³å°‘æœ‰1ä¸ªæˆ–è€…å¤šä¸ªè¾“å‡º</p>
</li>
<li>
<p><strong>æœ‰ç©·æ€§</strong>ï¼šç®—æ³•åœ¨æœ‰é™çš„æ­¥éª¤ä¹‹åä¼šè‡ªåŠ¨ç»“æŸè€Œä¸ä¼šæ— çº¿å¾ªç¯ï¼Œå¹¶ä¸”ï¼Œæ¯ä¸€ä¸ªæ­¥éª¤åœ¨ä¸€ä¸ªå¯æ¥å—çš„æ—¶é—´å†…å®Œæˆ</p>
</li>
<li>
<p><strong>ç¡®å®šæ€§</strong>ï¼šç®—æ³•ä¸­çš„æ¯ä¸€æ­¥éƒ½æœ‰ç¡®å®šçš„å®šä¹‰ï¼Œä¸ä¼šå‡ºç°äºŒä¹‰æ€§</p>
</li>
<li>
<p><strong>å¯è¡Œæ€§</strong>ï¼šç®—æ³•çš„æ¯ä¸€æ­¥éƒ½æ˜¯å¯è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´æ¯ä¸€æ­¥éƒ½èƒ½å¤Ÿæ‰§è¡Œæœ‰é™æ¬¡æ•°çš„å®Œæˆ</p>
</li>
</ol>
<h2 id="æ—¶é—´å¤æ‚åº¦ä¸å¤§oè¡¨ç¤ºæ³•">æ—¶é—´å¤æ‚åº¦ä¸å¤§Oè¡¨ç¤ºæ³•</h2>
<ul>
<li><strong>æœ€ä¼˜æ—¶é—´å¤æ‚åº¦</strong></li>
<li><strong>æœ€åæ—¶é—´å¤æ‚åº¦</strong></li>
<li><strong>å¹³å‡æ—¶é—´å¤æ‚åº¦</strong></li>
</ul>
<p>ä¸»è¦å…³æ³¨ç®—æ³•çš„æœ€åæƒ…å†µï¼Œå³<strong>æœ€åæ—¶é—´å¤æ‚åº¦</strong></p>
<h3 id="æ—¶é—´å¤æ‚åº¦çš„å‡ æ¡è®¡ç®—åŸºæœ¬è§„åˆ™">æ—¶é—´å¤æ‚åº¦çš„å‡ æ¡è®¡ç®—åŸºæœ¬è§„åˆ™</h3>
<ol>
<li>
<p>åŸºæœ¬æ“ä½œï¼Œå³åªæœ‰å¸¸æ•°é¡¹ï¼Œè®¤ä¸ºå…¶æ—¶é—´å¤æ‚åº¦ä¸º<strong>O(1)</strong></p>
</li>
<li>
<p>é¡ºåºç»“æ„ï¼Œæ—¶é—´å¤æ‚åº¦æŒ‰<strong>åŠ æ³•</strong>è¿›è¡Œè®¡ç®—</p>
</li>
<li>
<p>å¾ªç¯ç»“æ„ï¼Œæ—¶é—´å¤æ‚åº¦æŒ‰<strong>ä¹˜æ³•</strong>è¿›è¡Œè®¡ç®—</p>
</li>
<li>
<p>åˆ†æ”¯ç»“æ„ï¼Œæ—¶é—´å¤æ‚åº¦<strong>å–æœ€å¤§å€¼</strong></p>
</li>
<li>
<p>åˆ¤æ–­ä¸€ä¸ªç®—æ³•çš„æ•ˆç‡æ—¶ï¼Œå¾€å¾€åªéœ€è¦å…³æ³¨æ“ä½œæ•°é‡çš„<strong>æœ€é«˜é¡¹</strong>ï¼Œå…¶æ¬¡è¦é¡¹å’Œå¸¸æ•°é¡¹å¯ä»¥å¿½ç•¥</p>
</li>
<li>
<p>åœ¨æ²¡æœ‰ç‰¹æ®Šè¯´æ˜æ—¶ï¼Œæˆ‘ä»¬æ‰€åˆ†æçš„ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯æŒ‡<strong>æœ€åæ—¶é—´å¤æ‚åº¦</strong></p>
</li>
</ol>
<h2 id="å¸¸è§æ—¶é—´å¤æ‚åº¦">å¸¸è§æ—¶é—´å¤æ‚åº¦</h2>
<h3 id="å¸¸è§æ—¶é—´å¤æ‚åº¦ç›´æ¥çš„å…³ç³»">å¸¸è§æ—¶é—´å¤æ‚åº¦ç›´æ¥çš„å…³ç³»</h3>
<p><strong>O(1) &lt; O(logn) &lt; O(n) &lt; O(nlogn) &lt; O(n<sup>2</sup>) &lt; O(n<sup>2</sup>logn) &lt; O(n<sup>3</sup>) &lt; O(2<sup>n</sup>) &lt; O(n!) &lt; O(n<sup>n</sup>)</strong></p>
<h2 id="pythonå†…ç½®ç±»å‹æ€§èƒ½åˆ†æ">Pythonå†…ç½®ç±»å‹æ€§èƒ½åˆ†æ</h2>
<h3 id="timeitæ¨¡å—">timeitæ¨¡å—</h3>
<p><strong>class timeit.Timer(stmt='pass', setup='pass', timer=&lt;timer function&gt;)</strong></p>
<p><strong>timeit.Timer.timeit(number=1000000)</strong></p>
<p>æµ‹è¯•ä»£ç æ—¶çš„æµ‹è¯•æ¬¡æ•°ï¼Œé»˜è®¤ä¸º1000000æ¬¡</p>
<h3 id="listå†…ç½®æ“ä½œçš„æ—¶é—´å¤æ‚åº¦">listå†…ç½®æ“ä½œçš„æ—¶é—´å¤æ‚åº¦</h3>
<h3 id="dictå†…ç½®æ“ä½œçš„æ—¶é—´å¤æ‚åº¦">dictå†…ç½®æ“ä½œçš„æ—¶é—´å¤æ‚åº¦</h3>
<h2 id="æ•°æ®ç»“æ„">æ•°æ®ç»“æ„</h2>
<h3 id="æ¦‚å¿µ">æ¦‚å¿µ</h3>
<h3 id="ç®—æ³•ä¸æ•°æ®ç»“æ„çš„åŒºåˆ«">ç®—æ³•ä¸æ•°æ®ç»“æ„çš„åŒºåˆ«</h3>
<p>ç¨‹åº = ç®—æ³• + æ•°æ®ç»“æ„</p>
<h3 id="æŠ½è±¡æ•°æ®ç±»å‹abstract-data-type-ç®€ç§°adt">æŠ½è±¡æ•°æ®ç±»å‹(Abstract Data Type ç®€ç§°ADT)</h3>
<h2 id="é¡ºåºè¡¨çš„ç»“æ„å’Œå®ç°">é¡ºåºè¡¨çš„ç»“æ„å’Œå®ç°</h2>
<h3 id="é¡ºåºè¡¨çš„ç»“æ„">é¡ºåºè¡¨çš„ç»“æ„</h3>
<h3 id="é¡ºåºè¡¨çš„ä¸¤ç§åŸºæœ¬å®ç°æ–¹å¼">é¡ºåºè¡¨çš„ä¸¤ç§åŸºæœ¬å®ç°æ–¹å¼</h3>
<ul>
<li>ä¸€ä½“å¼ç»“æ„</li>
<li>åˆ†ç¦»å¼ç»“æ„</li>
</ul>
<h3 id="å…ƒç´ å­˜å‚¨åŒºæ›¿æ¢">å…ƒç´ å­˜å‚¨åŒºæ›¿æ¢</h3>
<h3 id="å…ƒç´ å­˜å‚¨åŒºæ‰©å……">å…ƒç´ å­˜å‚¨åŒºæ‰©å……</h3>
<h4 id="æ‰©å……çš„ä¸¤ç§ç­–ç•¥">æ‰©å……çš„ä¸¤ç§ç­–ç•¥</h4>
<p>ç¬¬äºŒç§=ç”¨ç©ºé—´æ¢æ—¶é—´</p>
<h2 id="é¡ºåºè¡¨çš„æ“ä½œ">é¡ºåºè¡¨çš„æ“ä½œ</h2>
<h3 id="å¢åŠ å…ƒç´ ">å¢åŠ å…ƒç´ </h3>
<h3 id="åˆ é™¤å…ƒç´ ">åˆ é™¤å…ƒç´ </h3>
<h2 id="pythonä¸­çš„é¡ºåºè¡¨">Pythonä¸­çš„é¡ºåºè¡¨</h2>
<p>Pythonä¸­çš„listå’Œtupleä¸¤ç§ç±»å‹é‡‡ç”¨äº†é¡ºåºè¡¨çš„å®ç°æŠ€æœ¯</p>
<h3 id="listçš„åŸºæœ¬å®ç°æŠ€æœ¯">listçš„åŸºæœ¬å®ç°æŠ€æœ¯</h3>
<h2 id="é“¾è¡¨">é“¾è¡¨</h2>
<h3 id="å•å‘é“¾è¡¨">å•å‘é“¾è¡¨</h3>
<h4 id="æ“ä½œ">æ“ä½œ</h4>
<h4 id="å®ç°">å®ç°</h4>
<pre><code class="language-python">class Node(object):
    &quot;&quot;&quot;èŠ‚ç‚¹&quot;&quot;&quot;

    def __init__(self, item):
        self.item = item
        self.next = None


class SingleLinkList(object):
    &quot;&quot;&quot;å•é“¾è¡¨&quot;&quot;&quot;

    def __init__(self, node=None):
        self.__head = node  # ç§æœ‰å±æ€§

    def is_empty(self):
        &quot;&quot;&quot;é“¾è¡¨æ˜¯å¦ä¸ºç©º&quot;&quot;&quot;
        return self.__head is None

    def length(self):
        &quot;&quot;&quot;é“¾è¡¨é•¿åº¦&quot;&quot;&quot;
        # cursoræ¸¸æ ‡ï¼Œç”¨æ¥ç§»åŠ¨ï¼Œéå†èŠ‚ç‚¹
        cur = self.__head
        # countè®¡æ•°
        count = 0
        while cur is not None:
            count += 1
            cur = cur.next
        return count

    def travel(self):
        &quot;&quot;&quot;éå†æ•´ä¸ªé“¾è¡¨&quot;&quot;&quot;
        # cursoræ¸¸æ ‡ï¼Œç”¨æ¥ç§»åŠ¨ï¼Œéå†èŠ‚ç‚¹
        cur = self.__head
        while cur is not None:
            print(cur.item, end=&quot; &quot;)
            cur = cur.next
        print(&quot;&quot;)

    def add(self, item):
        &quot;&quot;&quot;é“¾è¡¨å¤´éƒ¨æ·»åŠ å…ƒç´ ï¼Œå¤´æ’æ³•&quot;&quot;&quot;
        node = Node(item)
        if self.is_empty():
            self.__head = node
        else:
            node.next = self.__head
            self.__head = node

    def append(self, item):
        &quot;&quot;&quot;é“¾è¡¨å°¾éƒ¨æ·»åŠ å…ƒç´ ï¼Œå°¾æ’æ³•&quot;&quot;&quot;
        node = Node(item)
        if self.is_empty():
            self.__head = node
        else:
            cur = self.__head
            while cur.next is not None:
                cur = cur.next
            cur.next = node

    def insert(self, pos, item):
        &quot;&quot;&quot;æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ 
        :param pos ä½ç½®
        &quot;&quot;&quot;
        if pos &lt;= 0:
            self.add(item)
        elif pos &gt; (self.length() - 1):
            self.append(item)
        else:
            # pre
            pre = self.__head
            count = 0
            while count &lt; (pos - 1):
                count += 1
                pre = pre.next
            # é€€å‡ºå¾ªç¯åã€‚preæŒ‡å‘pos-1ä½ç½®
            node = Node(item)
            node.next = pre.next
            pre.next = node

    def remove(self, item):
        &quot;&quot;&quot;åˆ é™¤èŠ‚ç‚¹&quot;&quot;&quot;
        cur = self.__head
        pre = None
        while cur is not None:
            if cur.item == item:
                # å…ˆåˆ¤æ–­æ­¤èŠ‚ç‚¹æ˜¯å¦å¤´èŠ‚ç‚¹
                if cur == self.__head:
                    self.__head = cur.next
                else:
                    pre.next = cur.next
                break
            else:
                pre = cur
                cur = cur.next

    def search(self, item):
        &quot;&quot;&quot;æŸ¥æ‰¾èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨&quot;&quot;&quot;
        cur = self.__head
        while cur is not None:
            if cur.item == item:
                return True
            else:
                cur = cur.next
        return False


if __name__ == '__main__':
    n = Node(100)
    sll = SingleLinkList()
    print('é“¾è¡¨æ˜¯å¦ä¸ºç©º', sll.is_empty())
    print('é“¾è¡¨é•¿åº¦', sll.length())
    sll.append(1)
    sll.append(2)
    sll.append(3)
    sll.add(4)
    sll.insert(0, 5)
    sll.insert(5, 10)
    sll.insert(2, 7)
    print('é“¾è¡¨æ˜¯å¦ä¸ºç©º', sll.is_empty())
    print('é“¾è¡¨é•¿åº¦', sll.length())
    sll.travel()
    print('æŸ¥æ‰¾èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨', sll.search(1))
    sll.remove(5)
    sll.travel()
    sll.remove(10)
    sll.travel()
    sll.remove(2)
    sll.travel()

</code></pre>
<h4 id="é“¾è¡¨ä¸é¡ºåºè¡¨å¯¹æ¯”">é“¾è¡¨ä¸é¡ºåºè¡¨å¯¹æ¯”</h4>
<h3 id="åŒå‘é“¾è¡¨">åŒå‘é“¾è¡¨</h3>
<h4 id="æ“ä½œ-2">æ“ä½œ</h4>
<h4 id="å®ç°-2">å®ç°</h4>
<pre><code class="language-python">class DoubleNode(object):
    &quot;&quot;&quot;èŠ‚ç‚¹&quot;&quot;&quot;

    def __init__(self, item):
        self.item = item
        self.next = None
        self.prev = None


class DoubleLinkList(object):
    &quot;&quot;&quot;åŒå‘é“¾è¡¨&quot;&quot;&quot;

    def __init__(self, node=None):
        self.__head = node  # ç§æœ‰å±æ€§

    def is_empty(self):
        &quot;&quot;&quot;é“¾è¡¨æ˜¯å¦ä¸ºç©º&quot;&quot;&quot;
        return self.__head is None

    def length(self):
        &quot;&quot;&quot;é“¾è¡¨é•¿åº¦&quot;&quot;&quot;
        # cursoræ¸¸æ ‡ï¼Œç”¨æ¥ç§»åŠ¨ï¼Œéå†èŠ‚ç‚¹
        cur = self.__head
        # countè®¡æ•°
        count = 0
        while cur is not None:
            count += 1
            cur = cur.next
        return count

    def travel(self):
        &quot;&quot;&quot;éå†æ•´ä¸ªé“¾è¡¨&quot;&quot;&quot;
        # cursoræ¸¸æ ‡ï¼Œç”¨æ¥ç§»åŠ¨ï¼Œéå†èŠ‚ç‚¹
        cur = self.__head
        while cur is not None:
            print(cur.item, end=&quot; &quot;)
            cur = cur.next
        print(&quot;&quot;)

    def add(self, item):
        &quot;&quot;&quot;é“¾è¡¨å¤´éƒ¨æ·»åŠ å…ƒç´ ï¼Œå¤´æ’æ³•&quot;&quot;&quot;
        node = DoubleNode(item)
        # # function 1
        # node.next = self.__head
        # self.__head = node
        # node.next.prev = node

        # function 2
        node.next = self.__head
        self.__head.prev = node
        self.__head = node

    def append(self, item):
        &quot;&quot;&quot;é“¾è¡¨å°¾éƒ¨æ·»åŠ å…ƒç´ ï¼Œå°¾æ’æ³•&quot;&quot;&quot;
        node = DoubleNode(item)
        if self.is_empty():
            self.__head = node
        else:
            cur = self.__head
            while cur.next is not None:
                cur = cur.next
            cur.next = node
            node.prev = cur

    def insert(self, pos, item):
        &quot;&quot;&quot;æŒ‡å®šä½ç½®æ·»åŠ å…ƒç´ 
        :param pos ä½ç½®
        &quot;&quot;&quot;
        if pos &lt;= 0:
            self.add(item)
        elif pos &gt; (self.length() - 1):
            self.append(item)
        else:
            cur = self.__head
            count = 0

            while count &lt; pos:
                count += 1
                cur = cur.next
            node = DoubleNode(item)
            node.next = cur
            node.prev = cur.prev
            # function 1
            cur.prev.next = node
            cur.prev = node

            # # function 2
            # cur.prev = node
            # cur.prev.next = node

    def remove(self, item):
        &quot;&quot;&quot;åˆ é™¤èŠ‚ç‚¹&quot;&quot;&quot;
        cur = self.__head
        while cur is not None:
            if cur.item == item:
                # åˆ¤æ–­æ˜¯å¦å¤´èŠ‚ç‚¹
                if cur == self.__head:
                    self.__head = cur.next
                    if cur.next:
                        # åˆ¤æ–­é“¾è¡¨æ˜¯å¦åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹
                        cur.next.prev = None
                else:
                    cur.prev.next = cur.next
                    if cur.next:
                        cur.next.prev = cur.prev
                break
            else:
                cur = cur.next

    def search(self, item):
        &quot;&quot;&quot;æŸ¥æ‰¾èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨&quot;&quot;&quot;
        cur = self.__head
        while cur is not None:
            if cur.item == item:
                return True
            else:
                cur = cur.next
        return False


if __name__ == '__main__':
    n = DoubleNode(100)
    dll = DoubleLinkList()
    print('é“¾è¡¨æ˜¯å¦ä¸ºç©º', dll.is_empty())
    print('é“¾è¡¨é•¿åº¦', dll.length())
    dll.append(1)
    dll.append(2)
    dll.append(3)
    dll.add(4)
    dll.insert(0, 5)
    dll.insert(5, 10)
    dll.insert(2, 7)
    print('é“¾è¡¨æ˜¯å¦ä¸ºç©º', dll.is_empty())
    print('é“¾è¡¨é•¿åº¦', dll.length())
    dll.travel()
    dll.remove(2)
    dll.travel()
    dll.remove(5)
    dll.travel()
    dll.remove(10)
    dll.travel()
    print('æŸ¥æ‰¾èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨', dll.search(1))

</code></pre>
<h3 id="å•é¡¹å¾ªç¯é“¾è¡¨">å•é¡¹å¾ªç¯é“¾è¡¨</h3>
]]></content>
    </entry>
</feed>