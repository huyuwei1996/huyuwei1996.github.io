<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://huyuwei1996.github.io/</id>
    <title>Huyuwei &apos;s Blog</title>
    <updated>2020-06-12T05:44:03.213Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://huyuwei1996.github.io/"/>
    <link rel="self" href="https://huyuwei1996.github.io/atom.xml"/>
    <subtitle>é€†æ°´è¡ŒèˆŸï¼Œä¸è¿›åˆ™é€€</subtitle>
    <logo>https://huyuwei1996.github.io/images/avatar.png</logo>
    <icon>https://huyuwei1996.github.io/favicon.ico</icon>
    <rights>All rights reserved 2020, Huyuwei &apos;s Blog</rights>
    <entry>
        <title type="html"><![CDATA[brewå®‰è£…åŠæ›¿æ¢æº]]></title>
        <id>https://huyuwei1996.github.io/_kTuwRSQs/</id>
        <link href="https://huyuwei1996.github.io/_kTuwRSQs/">
        </link>
        <updated>2020-05-30T15:24:42.000Z</updated>
        <content type="html"><![CDATA[<h1 id="brewå®‰è£…">brewå®‰è£…</h1>
<h2 id="brewå®‰è£…-å¸¸è§„å®‰è£…">brewå®‰è£…-å¸¸è§„å®‰è£…</h2>
<h3 id="å®˜ç½‘">å®˜ç½‘</h3>
<p>https://brew.sh/index_zh-cn</p>
<h3 id="å®˜ç½‘å®‰è£…å‘½ä»¤">å®˜ç½‘å®‰è£…å‘½ä»¤</h3>
<pre><code class="language-shell">ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
</code></pre>
<h3 id="å®˜ç½‘å¸è½½å‘½ä»¤">å®˜ç½‘å¸è½½å‘½ä»¤</h3>
<pre><code class="language-shell">ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/uninstall)&quot;
</code></pre>
<h3 id="å¸¸è§„å®‰è£…åæ›´æ¢ä¸ºç¬¬ä¸‰æ–¹æº">å¸¸è§„å®‰è£…åï¼Œæ›´æ¢ä¸ºç¬¬ä¸‰æ–¹æº</h3>
<pre><code class="language-shell"># ä¸­ç§‘å¤§æº
cd &quot;$(brew --repo)&quot;
git remote set-url origin https://mirrors.ustc.edu.cn/brew.git
cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-cask&quot;
git remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git
brew update -v
echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles' &gt;&gt; ~/.zshrc
source ~/.zshrc

# é˜¿é‡Œæº
cd &quot;$(brew --repo)&quot;
git remote set-url origin https://mirrors.aliyun.com/homebrew/brew.git
cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;
git remote set-url origin https://mirrors.aliyun.com/homebrew/homebrew-core.git
brew update -v
echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles' &gt;&gt; ~/.zshrc
source ~/.zshrc

# æ¸…åæº
cd &quot;$(brew --repo)&quot;
git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/homebrew/brew.git
cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;
git remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/homebrew/homebrew-core.git
brew update -v
echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles' &gt;&gt; ~/.zshrc
source ~/.zshrc

# å¤åŸbrewæº
cd &quot;$(brew --repo)&quot;
git remote set-url origin https://github.com/Homebrew/brew.git
cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;
git remote set-url origin https://github.com/Homebrew/homebrew-core.git
# åˆ é™¤zshrc HOMEBREW_BOTTLE_DOMAINå†…å®¹
</code></pre>
<h2 id="brewå®‰è£…-å›½å†…å®‰è£…">brewå®‰è£…-å›½å†…å®‰è£…</h2>
<p>è§£å†³å¸¸è§„å®‰è£…å¤ªæ…¢ï¼Œæˆ–è€…æ— æ³•å®‰è£…ï¼ˆå›½å†…æœ‰æ—¶æ— æ³•è®¿é—®raw.githubusercontent.comï¼‰ã€‚ä»¥åŠbrew updateå¾ˆä¹…çš„é—®é¢˜ã€‚</p>
<pre><code class="language-shell">curl: (7) Failed to connect to raw.githubusercontent.com port 443: Connection refused
</code></pre>
<h3 id="å›½å†…å®‰è£…">å›½å†…å®‰è£…</h3>
<pre><code class="language-shell"># åˆ›å»ºHomeBrewæ–‡ä»¶å¤¹
sudo mkdir /usr/local/Homebrew

# git cloneå¯¹åº”æºçš„Homebrew
sudo git clone https://mirrors.ustc.edu.cn/brew.git /usr/local/Homebrew
# sudo git clone https://mirrors.aliyun.com/homebrew/brew.git /usr/local/Homebrew
# sudo git clone https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git /usr/local/Homebrew

# åˆ›å»ºä¸€ä¸ªå¿«æ·æ–¹å¼åˆ°/usr/local/binç›®å½•
sudo ln -s /usr/local/Homebrew/bin/brew /usr/local/bin/brew

# åˆ›å»ºcoreæ–‡ä»¶å¤¹
sudo mkdir -p /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core

# git clone
sudo git clone https://mirrors.ustc.edu.cn/homebrew-core.git /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core
# sudo git clone https://mirrors.aliyun.com/homebrew/homebrew-core.git /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core
# sudo git clone https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git /usr/local/Homebrew/Library/Taps/homebrew/homebrew-core

# è·å–æƒé™ å¹¶ æ›´æ–°
sudo chown -R $(whoami) /usr/local/Homebrew
brew update -v

# è®¾ç½®ç¯å¢ƒå˜é‡
echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles' &gt;&gt; ~/.zshrc 
# echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.aliyun.com/homebrew/homebrew-bottles' &gt;&gt; ~/.zshrc
# echo 'export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew/homebrew-bottles' &gt;&gt; ~/.zshrc
source ~/.zshrc

# brew cask
sudo git clone https://mirrors.ustc.edu.cn/homebrew-cask.git /usr/local/Homebrew/Library/Taps/homebrew/homebrew-cask
</code></pre>
<h2 id="brewå®‰è£…æŒ‡å®šç‰ˆæœ¬çš„è½¯ä»¶">brewå®‰è£…æŒ‡å®šç‰ˆæœ¬çš„è½¯ä»¶</h2>
<pre><code class="language-shell"># æŸ¥çœ‹ä¿¡æ¯
brew info jmeter
# æ ¹æ®ä¿¡æ¯ä¸­çš„From
cd &quot;$(brew --repo)&quot;
cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-core&quot;
cd &quot;$(brew --repo)/Library/Taps/homebrew/homebrew-cask&quot;
# æ‰¾åˆ°å¯¹åº”commitid
git log ./Formula/jmeter.rb | less
# åˆ‡æ¢å¯¹åº”ç‰ˆæœ¬çš„commitid
git checkout d1c22f955a754d670e5ebe69eb4d970ed4429aeb
# æŸ¥çœ‹æ˜¯å¦åˆ‡æ¢åˆ°å¯¹åº”ç‰ˆæœ¬
cat ./Formula/jmeter.rb
# å®‰è£…
brew install ./Formula/jmeter.rb
or
brew install jmeter
</code></pre>
<p>å‚è€ƒç½‘ç«™ï¼š</p>
<p>https://blog.csdn.net/u010458765/article/details/104730037/</p>
<p>https://www.jianshu.com/p/aadb54eac0a8</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[åŸºäº Jmeter çš„è½»é‡çº§äº‘å‹æµ‹å¹³å°(å¼€æºé¡¹ç›®ä½¿ç”¨)]]></title>
        <id>https://huyuwei1996.github.io/ji-yu-jmeter-de-qing-liang-ji-yun-ya-ce-ping-tai-kai-yuan-xiang-mu-shi-yong/</id>
        <link href="https://huyuwei1996.github.io/ji-yu-jmeter-de-qing-liang-ji-yun-ya-ce-ping-tai-kai-yuan-xiang-mu-shi-yong/">
        </link>
        <updated>2020-05-09T02:44:42.000Z</updated>
        <content type="html"><![CDATA[<p>githubï¼š[https://github.com/zyanycall/stressTestPlatform]</p>
<p>ç¤¾åŒºä»‹ç»ï¼š<a href="https://testerhome.com/topics/15612">åŸºäº Jmeter çš„è½»é‡çº§äº‘å‹æµ‹å¹³å°çš„åŸç†ä¸å®ç° (ä¸€)ï¼šå¼€ç¯‡</a>  <a href="https://testerhome.com/topics/17259">åŸºäº Jmeter çš„è½»é‡çº§äº‘å‹æµ‹å¹³å°çš„åŸç†ä¸å®ç° (äºŒ)ï¼šå‹æµ‹å¼•æ“</a></p>
<p>ä¸€ã€é¡¹ç›®é…ç½®ï¼š</p>
<ol>
<li>
<p>é¡¹ç›®è®¿é—®åœ°å€ï¼šhttp://10.9.19.108:8080/renren-fast/</p>
</li>
<li>
<p>éƒ¨ç½²æœºå™¨ï¼š10.9.19.108</p>
</li>
<li>
<p>æ•°æ®åº“ï¼šmysqlï¼Œ10.9.19.108æœ¬åœ°</p>
</li>
<li>
<p>æœåŠ¡æ—¥å¿—æŸ¥çœ‹ï¼š</p>
<p>cd /usr/local/tomcat/tomcat-8/logs</p>
<p>sudo tail -f catalina.out</p>
</li>
<li>
<p>è®¿é—®æ—¥å¿—æŸ¥çœ‹ï¼ˆå¹´æœˆæ—¥ï¼‰ï¼š</p>
<p>cd /usr/local/tomcat/tomcat-8/logs</p>
<p>sudo tail -f localhost_access_log.xxxx-xx-xx.txt</p>
</li>
</ol>
<p>äºŒã€ç¯å¢ƒæ­å»ºï¼š</p>
<ol>
<li>mysql 5.7å®‰è£…</li>
</ol>
<pre><code class="language-shell"># ä¸‹è½½mysql rpmåŒ…
cd ~/soft
wget -N http://repo.mysql.com/mysql80-community-release-el7-3.noarch.rpm
# å®‰è£…ä¸‹è½½çš„rpmåŒ…
sudo yum localinstall mysql80-community-release-el7-3.noarch.rpm
æˆ–
sudo rpm -Uvh mysql80-community-release-el7-3.noarch.rpm
# æ‰¾åˆ°è¦å®‰è£…çš„ç‰ˆæœ¬
yum repolist all | grep mysql
# ã€å¦‚æœé‡åˆ°yum-config-manager: command not foundã€‘
sudo yum install yum-utils -y
# ä¿®æ”¹ä¸ºéœ€è¦çš„ç‰ˆæœ¬
sudo yum-config-manager --disable mysql80-community
sudo yum-config-manager --enable mysql57-community
æˆ–
æ‰‹åŠ¨ç¼–è¾‘/etc/yum.repos.d/mysql-community.repoæ–‡ä»¶æ¥é€‰æ‹©ï¼ŒæŠŠé»˜è®¤ç‰ˆæœ¬çš„enabled=1æ”¹ä¸º0ï¼Œéœ€è¦ç‰ˆæœ¬çš„enabled=1
# å®‰è£…mysqlï¼ˆå®‰è£…åæ˜¯mysql 5.7.30ï¼‰
sudo yum install mysql-community-server
# ã€å¦‚æœåŸæ¥å®‰è£…è¿‡ã€‘åˆ é™¤åŸæ¥å®‰è£…è¿‡çš„mysqlæ®‹ç•™çš„æ•°æ®
sudo rm -rf /var/lib/mysql
# å¯åŠ¨æœåŠ¡
sudo systemctl restart mysqld
# 5.7ç‰ˆæœ¬mysqlç¬¬ä¸€æ¬¡å¯åŠ¨è‡ªåŠ¨ç”Ÿæˆä¸´æ—¶å¯†ç ï¼Œå¯é€šè¿‡æŸ¥çœ‹æ—¥å¿—æ‰¾åˆ°
grep 'temporary password' /var/log/mysqld.log
# ä¿®æ”¹å¯†ç æ ¡éªŒ
sudo vi /etc/my.cnf

plugin-load=validate_password.so 
validate-password=OFF
# å®‰å…¨é…ç½®
sudo mysql_secure_installation
#################################################
Change the password for root ? ((Press y|Y for Yes, any other key for No) :No
Remove anonymous users? (Press y|Y for Yes, any other key for No) :y
Disallow root login remotely? (Press y|Y for Yes, any other key for No) :No
Remove test database and access to it? (Press y|Y for Yes, any other key for No) :y
Reload privilege tables now? (Press y|Y for Yes, any other key for No) :y
</code></pre>
<ol start="2">
<li>maven 3.6.3å®‰è£…</li>
</ol>
<pre><code class="language-shell">#http://maven.apache.org/download.cgi
cd ~/soft
wget -N https://mirrors.tuna.tsinghua.edu.cn/apache/maven/maven-3/3.6.3/binaries/apache-maven-3.6.3-bin.zip
unzip apache-maven-3.6.3-bin.zip
mv apache-maven-3.6.3 maven-3.6.3

# ç»Ÿä¸€å®‰è£…åˆ°/usr/localç›®å½•
sudo mkdir /usr/local/maven
sudo mv ~/soft/maven-3.6.3 /usr/local/maven

sudo vi /etc/profile
#################################################
export PATH=/usr/local/maven/maven-3.6.3/bin:$PATH
#################################################
source /etc/profile
</code></pre>
<ol start="3">
<li>tomcat 8.5.54å®‰è£…</li>
</ol>
<pre><code class="language-shell">#https://tomcat.apache.org/download-80.cgi
cd ~/soft
wget -N https://mirror.bit.edu.cn/apache/tomcat/tomcat-8/v8.5.54/bin/apache-tomcat-8.5.54.zip
unzip apache-tomcat-8.5.54.zip
mv apache-tomcat-8.5.54 tomcat-8

# ç»Ÿä¸€å®‰è£…åˆ°/usr/localç›®å½•
sudo mkdir /usr/local/tomcat
sudo mv ~/soft/tomcat-8 /usr/local/tomcat

cd /usr/local/tomcat/tomcat-8/bin
chmod 755 *.sh
./startup.sh
# çœ‹ä¸€ä¸‹localhost:8080æœ‰æ²¡æœ‰tomcatçŒ«
vi catalina.sh
# 145gg
#################################################
CATALINA_PID=$PRGDIR/CATALINA_PID
#################################################
./shutdown.sh
./startup.sh
# å¼€æœºè‡ªå¯åŠ¨
sudo vi /usr/lib/systemd/system/tomcat.service
#################################################
[Unit]
Description=tomcat
After=syslog.target network.target remote-fs.target nss-lookup.target

[Service]
Type=forking
PIDFile=/usr/local/tomcat/tomcat-8/bin/CATALINA_PID
ExecStart=/usr/local/tomcat/tomcat-8/bin/startup.sh
ExecReload=/bin/kill -s HUP $MAINPID
ExecStop=/bin/kill -s QUIT $MAINPID
PrivateTmp=true

[Install]
WantedBy=multi-user.target
#################################################
# å¯ç”¨å¼€æœºè‡ªå¯
sudo systemctl enable tomcat.service
# å¯åŠ¨tomcatæœåŠ¡
sudo systemctl restart tomcat.service
</code></pre>
<ol start="4">
<li>æ‹‰å–é¡¹ç›®&amp;waréƒ¨ç½²</li>
</ol>
<pre><code class="language-shell">#ã€å¯åŠ¨é¡¹ç›®æŠ¥é”™æ— æ³•è§£æhostnameã€‘
sudo sudo su -
echo &quot;127.0.0.1 VM108&quot; &gt;&gt; /etc/hosts

# æ‹‰å–é¡¹ç›®
cd /soft
git clone -b vm https://github.com/huyuwei1996/stressTestPlatform.git
cd stressTestPlatform
mvn clean package -f pom-war.xml
# waræ‹·è´åˆ°webappsè‡ªåŠ¨éƒ¨ç½²
cp target/renren-fast.war /usr/local/tomcat/tomcat-8/webapps

</code></pre>
<ol start="5">
<li>æ›´æ–°é¡¹ç›®</li>
</ol>
<pre><code class="language-shell"># æ›´æ–°é¡¹ç›®
cd ~/soft/stressTestPlatform
git pull
mvn clean package -f pom-war.xml
# waræ‹·è´åˆ°webappsè‡ªåŠ¨éƒ¨ç½²
cp target/renren-fast.war /usr/local/tomcat/tomcat-8/webapps
</code></pre>
<p>ä¸‰ã€å…¶ä»–é—®é¢˜ï¼š</p>
<ol>
<li>jmeteré…ç½®ç›¸å…³
<ol>
<li>ä¸éœ€è¦è‡ªå·±å¯åŠ¨jmeter-serverï¼Œå¹³å°ä¸Šå¯ä»¥é…ç½®å¹¶å¯åŠ¨</li>
<li>å¯èƒ½éœ€è¦ä¿®æ”¹jmeter.propertiesçš„csvè¾“å…¥ï¼Œç›®å‰ç”ŸæˆæŠ¥å‘Šæœ‰çš„ä¼šå‡ºé”™</li>
</ol>
</li>
</ol>
<pre><code class="language-shell">sudo systemctl disable jmeter-server.service # ç¦ç”¨æœåŠ¡è‡ªå¯åŠ¨
sudo systemctl stop jmeter-server.service # åœæ‰å½“å‰æœåŠ¡


sudo vi /etc/bashrc
##################################################
export JMETER_HOME=/usr/local/jmeter/apache-jmeter-5.2.1
export CLASSPATH=$JMETER_HOME/lib/ext/ApacheJMeter_core.jar:$JMETER_HOME/lib/jorphan.jar:$CLASSPATH
export PATH=$JMETER_HOME/bin:$PATH

export PATH=/usr/local/maven/maven-3.6.3/bin:$PATH
##################################################


</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[æ€§èƒ½æµ‹è¯•æœºç¯å¢ƒæ­å»º]]></title>
        <id>https://huyuwei1996.github.io/xing-neng-ce-shi-ji-huan-jing-da-jian/</id>
        <link href="https://huyuwei1996.github.io/xing-neng-ce-shi-ji-huan-jing-da-jian/">
        </link>
        <updated>2020-05-06T07:39:58.000Z</updated>
        <content type="html"><![CDATA[<p>å¤‡æ³¨ï¼šä¸»æœºç³»ç»Ÿä¸ºCentOS 7</p>
<h1 id="å»ºè®®å…ˆæ›´æ–°æœºå™¨çš„yumæº">å»ºè®®å…ˆæ›´æ–°æœºå™¨çš„yumæº</h1>
<pre><code class="language-shell">sudo yum update -y
</code></pre>
<h1 id="ä¿®æ”¹ä¸»æœºåç§°">ä¿®æ”¹ä¸»æœºåç§°</h1>
<pre><code class="language-shell">sudo hostnamectl set-hostname PM133
echo &quot;127.0.0.1 PM133&quot; &gt;&gt; /etc/hosts
</code></pre>
<h1 id="å®‰è£…java">å®‰è£…Java</h1>
<h2 id="ä¸‹è½½oracle-jdk18">ä¸‹è½½Oracle JDK1.8</h2>
<p>ç”±äºç°åœ¨éœ€è¦ç™»å½•ä¸‹è½½ï¼Œå…ˆä»æµè§ˆå™¨ä¸­ç‚¹å‡»ä¸‹è½½åï¼Œå°†é“¾æ¥å¤åˆ¶æ›¿æ¢ä¸‹é¢çš„åœ°å€</p>
<pre><code class="language-shell">#ã€å¦‚æœç”¨ä¸äº†wgetï¼Œå®‰è£…ä¸€ä¸ªã€‘
sudo yum install wget -y

# ä¸‹è½½Oracle JDKçš„rpmåŒ…
wget -N --no-cookies --no-check-certificate --header &quot;Cookie: gpw_e24=http%3A%2F%2Fwww.oracle.com%2F; oraclelicense=accept-securebackup-cookie&quot; &quot;https://download.oracle.com/otn/java/jdk/8u251-b08/3d5a2bb8f8d4428bbe94aed7ec7ae784/jdk-8u251-linux-x64.rpm?AuthParam=xxxxxxxxxxxxxxxx&quot;
</code></pre>
<h2 id="å®‰è£…jdk">å®‰è£…JDK</h2>
<pre><code class="language-shell">sudo yum install jdk-8u251-linux-x64.rpm -y
</code></pre>
<h2 id="é…ç½®é»˜è®¤java">é…ç½®é»˜è®¤Java</h2>
<p>å¦‚æœæœºå™¨æ²¡æœ‰é¢„è£…OpenJDKï¼Œå°±å¯ä»¥ç•¥è¿‡æ­¤æ­¥éª¤</p>
<pre><code class="language-shell">/usr/sbin/alternatives --config java
/usr/sbin/alternatives --config javac
</code></pre>
<p>å‘½ä»¤è¾“å…¥åæœ‰å¯¹åº”çš„èœå•é€‰æ‹©ï¼Œé€‰æ‹©å®‰è£…çš„Oracle JDKå³å¯</p>
<h2 id="æµ‹è¯•javaå®‰è£…æƒ…å†µ">æµ‹è¯•Javaå®‰è£…æƒ…å†µ</h2>
<pre><code class="language-shell">java -version
javac -version
</code></pre>
<p>é¢„æœŸç»“æœ</p>
<pre><code class="language-shell">~ java -version
java version &quot;1.8.0_251&quot;
Java(TM) SE Runtime Environment (build 1.8.0_251-b08)
Java HotSpot(TM) 64-Bit Server VM (build 25.251-b08, mixed mode)
~ javac -version
javac 1.8.0_251
</code></pre>
<h1 id="å®‰è£…gafana-serveråœ¨ä»ªè¡¨ç›˜çš„æœåŠ¡å™¨ä¸Šå®‰è£…">å®‰è£…gafana-serverï¼ˆåœ¨ä»ªè¡¨ç›˜çš„æœåŠ¡å™¨ä¸Šå®‰è£…ï¼‰</h1>
<h2 id="ä¸‹è½½å’Œå®‰è£…grafana">ä¸‹è½½å’Œå®‰è£…grafana</h2>
<pre><code class="language-shell">wget https://dl.grafana.com/oss/release/grafana-6.7.3-1.x86_64.rpm
sudo yum install grafana-6.7.3-1.x86_64.rpm -y
</code></pre>
<h2 id="ä¿®æ”¹åŒ¿åå¯ç›´æ¥æŸ¥çœ‹å±•ç¤ºé‡å¯æœåŠ¡">ä¿®æ”¹åŒ¿åå¯ç›´æ¥æŸ¥çœ‹å±•ç¤º&amp;é‡å¯æœåŠ¡</h2>
<pre><code class="language-shell">sudo vi /etc/grafana/grafana.ini
## ä¿®æ”¹é…ç½®æˆå¦‚ä¸‹çŠ¶æ€ï¼š
#################################################
[auth.anonymous]
# enable anonymous access
enabled = true

# specify organization name that should be used for unauthenticated users
;org_name = Main Org.

# specify role for unauthenticated users
org_role = Viewer
#################################################
## é‡å¯æœåŠ¡
sudo systemctl restart grafana-server
</code></pre>
<h1 id="æ·»åŠ influxæºæ‰€æœ‰æœåŠ¡å™¨">æ·»åŠ influxæºï¼ˆæ‰€æœ‰æœåŠ¡å™¨ï¼‰</h1>
<pre><code class="language-shell">cat &lt;&lt;EOF | sudo tee /etc/yum.repos.d/influxdb.repo
[influxdb]
name = InfluxDB Repository - RHEL \$releasever
baseurl = https://repos.influxdata.com/rhel/\$releasever/\$basearch/stable
enabled = 1
gpgcheck = 1
gpgkey = https://repos.influxdata.com/influxdb.key
EOF
</code></pre>
<h1 id="å®‰è£…influxdbåœ¨è´Ÿè´£æ”¶é›†æ•°æ®çš„æœåŠ¡å™¨ä¸Šå®‰è£…">å®‰è£…influxdbï¼ˆåœ¨è´Ÿè´£æ”¶é›†æ•°æ®çš„æœåŠ¡å™¨ä¸Šå®‰è£…ï¼‰</h1>
<h2 id="å®‰è£…influxdb">å®‰è£…influxdb</h2>
<pre><code class="language-shell">sudo yum install influxdb -y
</code></pre>
<h2 id="influxdbé…ç½®ä¿®æ”¹é‡å¯æœåŠ¡">influxdbé…ç½®ä¿®æ”¹&amp;é‡å¯æœåŠ¡</h2>
<pre><code class="language-shell">sudo vi /etc/influxdb/influxdb.conf
## æ‰¾åˆ°[[udp]]å¤„æ·»åŠ udpé…ç½®
## ä½¿ç”¨?[[udp]]å›è½¦ç›´æ¥æ‰¾åˆ°è¿™è¡Œ
#################################################
[[udp]]
  # High-traffic UDP
  enabled = true
  bind-address = &quot;:8089&quot; # the bind address
  database = &quot;udp&quot; # Name of the database that will be written to
  batch-size = 5000 # will flush if this many points get buffered
  batch-timeout = &quot;1s&quot; # will flush at least this often even if the batch-size is not reached
  batch-pending = 100 # number of batches that may be pending in memory
  read-buffer = 8388608 # (8*1024*1024) UDP read buffer size
#################################################
## é‡å¯æœåŠ¡
sudo systemctl restart influxdb
## æŸ¥çœ‹æœåŠ¡è¿è¡ŒçŠ¶æ€ï¼ˆè¯¦ç»†ï¼‰
sudo systemctl status influxdb -l
</code></pre>
<h1 id="å®‰è£…telegrafåœ¨éœ€è¦ç›‘æ§çš„æœåŠ¡å™¨ä¸Šå®‰è£…">å®‰è£…telegrafï¼ˆåœ¨éœ€è¦ç›‘æ§çš„æœåŠ¡å™¨ä¸Šå®‰è£…ï¼‰</h1>
<h2 id="å®‰è£…telegraf">å®‰è£…telegraf</h2>
<pre><code class="language-shell">sudo yum install telegraf -y
</code></pre>
<h2 id="telegrafé…ç½®ä¿®æ”¹é‡å¯æœåŠ¡">telegrafé…ç½®ä¿®æ”¹&amp;é‡å¯æœåŠ¡</h2>
<pre><code class="language-shell">sudo vi /etc/telegraf/telegraf.conf
## ä½¿ç”¨111ggå‘½ä»¤ç›´æ¥æ‰¾åˆ°è¿™è¡Œ
### ç›‘æ§æ•°æ®é€šè¿‡httpå†™åˆ°æ•°æ®åº“çš„é…ç½®ï¼š
#################################################
  # urls = [&quot;udp://10.9.8.129:8089&quot;]
  urls = [&quot;http://10.9.8.129:8086&quot;]
### ç›‘æ§æ•°æ®é€šè¿‡udpå†™åˆ°æ•°æ®åº“çš„é…ç½®ï¼š
  urls = [&quot;udp://10.9.8.129:8089&quot;]
  # urls = [&quot;http://10.9.8.129:8086&quot;]
### å¦‚æœæ˜¯ç›‘æ§æœºå™¨å†™åˆ°è‡ªå·±çš„influxdbæ—¶ï¼Œurlå†™127.0.0.1ï¼Œå¦‚ï¼š
 # urls = [&quot;udp://127.0.0.1:8089&quot;]
  urls = [&quot;http://127.0.0.1:8086&quot;]
#################################################
## httpå†™å…¥æ—¶çš„æ•°æ®åº“åç§°
database = &quot;telegraf&quot;å‰é¢å»æ‰#å·

## æ·»åŠ netstatç›‘æ§
## ä½¿ç”¨?inputs.netstatå›è½¦ç›´æ¥æ‰¾åˆ°è¿™è¡Œ
[[inputs.netstat]]å‰é¢å»æ‰#å·

## ä¿®æ”¹netç›‘æ§
## ä½¿ç”¨?inputs.net]å›è½¦ç›´æ¥æ‰¾åˆ°è¿™è¡Œ
[[inputs.net]]å‰é¢å»æ‰#å·
interfaces = [&quot;e*&quot;, &quot;lo&quot;]   # ä¿®æ”¹ç½‘å¡åç§°çš„åŒ¹é…

## é‡å¯æœåŠ¡
sudo systemctl restart telegraf
</code></pre>
<h1 id="å…³é—­é˜²ç«å¢™é˜²ç«å¢™å¼€æœºè‡ªå¯å…³æ‰åå°±å¯ä»¥è®¿é—®grafana-serverçš„3000ç«¯å£äº†">å…³é—­é˜²ç«å¢™&amp;é˜²ç«å¢™å¼€æœºè‡ªå¯ï¼ˆå…³æ‰åå°±å¯ä»¥è®¿é—®grafana-serverçš„3000ç«¯å£äº†ï¼‰</h1>
<pre><code class="language-shell">## æŸ¥çœ‹é˜²ç«å¢™
firewall-cmd --state
## å…³é—­firewall
systemctl stop firewalld.service
systemctl disable firewalld.service

## æˆ–è€…å¼€æ”¾3000ç«¯å£
firewall-cmd --zone=public --add-port=3000/tcp --permanent
firewall-cmd --reload
firewall-cmd --zone=public --query-port=3000/tcp
firewall-cmd --zone=public --list-ports
</code></pre>
<h1 id="æœåŠ¡å™¨æ—¶åŒºé—®é¢˜å‘">æœåŠ¡å™¨æ—¶åŒºé—®é¢˜(å‘)</h1>
<pre><code class="language-shell">## è®¿é—®http://ip:3000 çœ‹ä¸åˆ°æ•°æ®
sudo ln -s /usr/share/zoneinfo/Asia/Shanghai /etc/localtime -f
# å†çœ‹ä¸‹æ—¶é—´å¯¹ä¸å¯¹
date
</code></pre>
<h1 id="ä¿®æ”¹ç³»ç»Ÿé™åˆ¶">ä¿®æ”¹ç³»ç»Ÿé™åˆ¶</h1>
<h2 id="è®¾å®šæ¯ä¸ªè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦çš„æ•°é‡">è®¾å®šæ¯ä¸ªè¿›ç¨‹å¯ä»¥æ‰“å¼€çš„æœ€å¤§æ–‡ä»¶æè¿°ç¬¦çš„æ•°é‡</h2>
<pre><code class="language-shell">## devä¸‹ä¿®æ”¹ç³»ç»Ÿå‚æ•°ï¼Œåˆ‡rootå°±ä¸ç”¨è¾“devå¯†ç äº†
sudo sudo su -

ulimit -n 65535
</code></pre>
<h2 id="ä¿®æ”¹å†…æ ¸å‚æ•°">ä¿®æ”¹å†…æ ¸å‚æ•°</h2>
<pre><code class="language-shell">sudo vi /etc/sysctl.conf
#################################################
#è¡¨ç¤ºå¼€å¯SYN Cookiesã€‚å½“å‡ºç°SYNç­‰å¾…é˜Ÿåˆ—æº¢å‡ºæ—¶ï¼Œå¯ç”¨cookiesæ¥å¤„ç†ï¼Œå¯é˜²èŒƒå°‘é‡SYNæ”»å‡»ï¼Œé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºå…³é—­
net.ipv4.tcp_syncookies = 1
#è¡¨ç¤ºå¼€å¯é‡ç”¨ã€‚å…è®¸å°†TIME-WAIT socketsé‡æ–°ç”¨äºæ–°çš„TCPè¿æ¥ï¼Œé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºå…³é—­
net.ipv4.tcp_tw_reuse = 1
#è¡¨ç¤ºå¼€å¯é‡ç”¨ã€‚å…è®¸å°†TIME-WAIT socketsé‡æ–°ç”¨äºæ–°çš„TCPè¿æ¥ï¼Œé»˜è®¤ä¸º0ï¼Œè¡¨ç¤ºå…³é—­
net.ipv4.tcp_tw_recycle = 1
#è¡¨ç¤ºå¦‚æœå¥—æ¥å­—ç”±æœ¬ç«¯è¦æ±‚å…³é—­ï¼Œè¿™ä¸ªå‚æ•°å†³å®šäº†å®ƒä¿æŒåœ¨FIN-WAIT-2çŠ¶æ€çš„æ—¶é—´
net.ipv4.tcp_fin_timeout=30
#è¡¨ç¤ºå½“keepaliveèµ·ç”¨çš„æ—¶å€™ï¼ŒTCPå‘é€keepaliveæ¶ˆæ¯çš„é¢‘åº¦ã€‚ç¼ºçœæ˜¯2å°æ—¶ï¼Œæ”¹ä¸º20åˆ†é’Ÿ
net.ipv4.tcp_keepalive_time = 1200 
#è¡¨ç¤ºç”¨äºå‘å¤–è¿æ¥çš„ç«¯å£èŒƒå›´ã€‚ç¼ºçœæƒ…å†µä¸‹å¾ˆå°ï¼š32768åˆ°61000ï¼Œæ”¹ä¸º1024åˆ°65000
net.ipv4.ip_local_port_range = 1024 65000 
#è¡¨ç¤ºSYNé˜Ÿåˆ—çš„é•¿åº¦ï¼Œé»˜è®¤ä¸º1024ï¼ŒåŠ å¤§é˜Ÿåˆ—é•¿åº¦ä¸º8192ï¼Œå¯ä»¥å®¹çº³æ›´å¤šç­‰å¾…è¿æ¥çš„ç½‘ç»œè¿æ¥æ•°
net.ipv4.tcp_max_syn_backlog = 8192 
#è¡¨ç¤ºç³»ç»ŸåŒæ—¶ä¿æŒTIME_WAITå¥—æ¥å­—çš„æœ€å¤§æ•°é‡ï¼Œå¦‚æœè¶…è¿‡è¿™ä¸ªæ•°å­—ï¼ŒTIME_WAITå¥—æ¥å­—å°†ç«‹åˆ»è¢«æ¸…é™¤å¹¶æ‰“å°è­¦å‘Šä¿¡æ¯ã€‚é»˜è®¤ä¸º180000ï¼Œæ”¹ä¸º5000ã€‚å¯¹äºApacheã€Nginxç­‰æœåŠ¡å™¨ï¼Œä¸Šå‡ è¡Œçš„å‚æ•°å¯ä»¥å¾ˆå¥½åœ°å‡å°‘TIME_WAITå¥—æ¥å­—æ•°é‡ï¼Œä½†æ˜¯å¯¹äº Squidï¼Œæ•ˆæœå´ä¸å¤§ã€‚æ­¤é¡¹å‚æ•°å¯ä»¥æ§åˆ¶TIME_WAITå¥—æ¥å­—çš„æœ€å¤§æ•°é‡ï¼Œé¿å…SquidæœåŠ¡å™¨è¢«å¤§é‡çš„TIME_WAITå¥—æ¥å­—æ‹–æ­»ã€‚
net.ipv4.tcp_max_tw_buckets = 5000
#################################################
## ç«‹å³ç”Ÿæ•ˆï¼ˆå…é‡å¯ï¼‰
sudo sysctl -p
</code></pre>
<h2 id="æé«˜çº¿ç¨‹çš„ä½¿ç”¨é™åˆ¶">æé«˜çº¿ç¨‹çš„ä½¿ç”¨é™åˆ¶</h2>
<pre><code class="language-shell">echo 999999 &gt; /proc/sys/kernel/pid_max
echo 1999999 &gt; /proc/sys/vm/max_map_count
</code></pre>
<h1 id="å®‰è£…jmeter">å®‰è£…Jmeter</h1>
<h2 id="ä¸‹è½½jmeterè¿™é‡Œä¸‹è½½æœ€æ–°çš„521">ä¸‹è½½Jmeterï¼ˆè¿™é‡Œä¸‹è½½æœ€æ–°çš„5.2.1ï¼‰</h2>
<pre><code class="language-shell">## è¿™é‡Œæˆ‘ä»¬æ”¾åœ¨softç›®å½•ä¸‹
mkdir soft &amp;&amp; cd soft
## https://jmeter.apache.org/download_jmeter.cgi
wget -N https://mirror.bit.edu.cn/apache//jmeter/binaries/apache-jmeter-5.2.1.zip
</code></pre>
<h2 id="è§£å‹é…ç½®ç¯å¢ƒå˜é‡">è§£å‹&amp;é…ç½®ç¯å¢ƒå˜é‡</h2>
<pre><code class="language-shell">unzip apache-jmeter-5.2.1.zip
## å¦‚æœæç¤ºä¸èƒ½ç”¨unzipå‘½ä»¤
sudo yum install zip unzip -y
# å®‰è£…åˆ°/usr/localç›®å½•
sudo mkdir /usr/local/jmeter/
sudo mv apache-jmeter-5.2.1 /usr/local/jmeter

## ä¿®æ”¹ç¯å¢ƒå˜é‡&amp;æ¿€æ´»ç¯å¢ƒå˜é‡
sudo vi /etc/profile
#################################################
export JMETER_HOME=/usr/local/jmeter/apache-jmeter-5.2.1
export CLASSPATH=$JMETER_HOME/lib/ext/ApacheJMeter_core.jar:$JMETER_HOME/lib/jorphan.jar:$CLASSPATH
export PATH=$JMETER_HOME/bin:$PATH
#################################################
source /etc/profile
</code></pre>
<h2 id="æµ‹è¯•jmeterå®‰è£…æƒ…å†µ">æµ‹è¯•Jmeterå®‰è£…æƒ…å†µ</h2>
<pre><code class="language-shell">jmeter -v
</code></pre>
<p>é¢„æœŸç»“æœ</p>
<pre><code class="language-shell">~ jmeter -v
    _    ____   _    ____ _   _ _____       _ __  __ _____ _____ _____ ____
   / \  |  _ \ / \  / ___| | | | ____|     | |  \/  | ____|_   _| ____|  _ \
  / _ \ | |_) / _ \| |   | |_| |  _|    _  | | |\/| |  _|   | | |  _| | |_) |
 / ___ \|  __/ ___ \ |___|  _  | |___  | |_| | |  | | |___  | | | |___|  _ &lt;
/_/   \_\_| /_/   \_\____|_| |_|_____|  \___/|_|  |_|_____| |_| |_____|_| \_\ 5.2.1

Copyright (c) 1999-2019 The Apache Software Foundation
</code></pre>
<h2 id="ä¿®æ”¹jmeterçš„jvmå‚æ•°">ä¿®æ”¹Jmeterçš„JVMå‚æ•°</h2>
<h3 id="ä¿®æ”¹jmetershå’Œjmeterwinä¿®æ”¹jmeterbat">ä¿®æ”¹jmeter.shå’Œjmeterï¼Œwinä¿®æ”¹jmeter.bat</h3>
<pre><code class="language-shell">cd $JMETER_HOME/bin #/usr/local/jmeter/apache-jmeter-5.2.1/bin
vi jmeter.sh
æˆ–
vi jmeter
</code></pre>
<h3 id="heapæœ€å¤šè®¾ç½®ä¸ºç‰©ç†å†…å­˜çš„ä¸€åŠ8gæœºå™¨è®¾ç½®4g16gæœºå™¨è®¾ç½®8g">heapæœ€å¤šè®¾ç½®ä¸ºç‰©ç†å†…å­˜çš„ä¸€åŠï¼Œ8Gæœºå™¨è®¾ç½®4Gï¼Œ16Gæœºå™¨è®¾ç½®8G</h3>
<pre><code class="language-shell">JVM_ARGS=&quot;-Xms4G -Xmx4G -Xmn512m&quot;
JVM_ARGS=&quot;-Xms8G -Xmx8G -Xmn512m&quot;
</code></pre>
<h3 id="ä¿®æ”¹æ¯çº¿ç¨‹å ç”¨çš„æ ˆç©ºé—´ç›®å‰æ²¡æ”¹">ä¿®æ”¹æ¯çº¿ç¨‹å ç”¨çš„æ ˆç©ºé—´ï¼ˆç›®å‰æ²¡æ”¹ï¼‰</h3>
<pre><code class="language-shell">JVM_ARGS=&quot;-XX:ThreadStackSize=400k&quot;
</code></pre>
<p>æ¯çº¿ç¨‹ä½¿ç”¨400KBçš„æ ˆç©ºé—´ï¼Œæ¯”ç¼ºçœçš„1MBèŠ‚çœäº†çº¦60%ï¼Œä½†æ˜¯å®é™…ä¸Šåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œæ ˆç©ºé—´çš„ä½¿ç”¨ä¹Ÿä¸å®Œå…¨æ˜¯çº¿æ€§çš„ï¼Œå…·ä½“çš„èŠ‚çœä¸‹æ¥çš„æ ˆç©ºé—´éœ€è¦é€šè¿‡è¯•éªŒã€‚</p>
<h2 id="ä¿®æ”¹jmeter-server">ä¿®æ”¹jmeter-server</h2>
<h3 id="å…ˆç”¨ifconfigæ‰¾ä¸‹ç½‘å¡åç§°æ¯”å¦‚æ˜¯em1winä¿®æ”¹jmeter-serverbat">å…ˆç”¨ifconfigæ‰¾ä¸‹ç½‘å¡åç§°ï¼Œæ¯”å¦‚æ˜¯em1ï¼Œwinä¿®æ”¹jmeter-server.bat</h3>
<pre><code class="language-shell">vi jmeter-server

# æ·»åŠ ä¸‹é¢å†…å®¹åˆ°æœ€åä¸€è¡Œçš„å‰é¢å³å¯
#################################################
ip=`ifconfig em1 | awk -F &quot;[ :]+&quot; 'NR==2{print $3}'`
RMI_HOST_DEF=-Djava.rmi.server.hostname=$ip
#################################################
nwCard=`ifconfig | awk -F'[ :]+' '!NF{if(eth!=&quot;&quot;&amp;&amp;ip==&quot;&quot;)print eth;eth=ip4=&quot;&quot;}/^[^ ]/{eth=$1}/inet addr:/{ip=$4}' | awk 'NR==1'`
ip=`ifconfig $nwCard | awk -F &quot;[ :]+&quot; 'NR==2{print $3}'`
RMI_HOST_DEF=-Djava.rmi.server.hostname=$ip
#################################################
</code></pre>
<h2 id="ä¿®æ”¹ä¸»æ§æœºjmeterproperties">ä¿®æ”¹ä¸»æ§æœºjmeter.properties</h2>
<pre><code class="language-shell">vi jmeter.properties

## 258ggæ‰¾åˆ°è¿™è¡Œï¼Œå¦‚æœæœ‰å¤šå°ä»£ç†æœºï¼Œè¿™é‡Œéœ€è¦æŠŠæ‰€æœ‰çš„ä»£ç†æœºçš„IPåœ°å€å’Œç«¯å£å·éƒ½åŠ å…¥è¿›æ¥
#################################################
remote_hosts=127.0.0.1,10.9.8.133
server.rmi.ssl.disable=true
#################################################
</code></pre>
<h2 id="slaveæœºå™¨jmeter-serverå¯åŠ¨å…³é—­è„šæœ¬jmeter-serverè‡ªå¯åŠ¨">slaveæœºå™¨ï¼šjmeter-serverå¯åŠ¨/å…³é—­è„šæœ¬&amp;jmeter-serverè‡ªå¯åŠ¨</h2>
<pre><code class="language-shell">## å¯åŠ¨è„šæœ¬
sudo vi /usr/local/jmeter/startup.sh
#################################################
#! /bin/sh
source /etc/profile
cd /usr/local/jmeter/
rm -f jmeter-server.log
jmeter-server &amp;
exit
#################################################
</code></pre>
<pre><code class="language-shell">## å…³é—­è„šæœ¬
sudo vi /usr/local/jmeter/shutdown.sh
#################################################
#! /bin/sh
str=`ps -ef | grep jmeter-server | grep -v &quot;grep&quot;|awk '{print $2}'`
kill -9 $str
if [ &quot;$?&quot; -eq 0 ]; then
	echo &quot;killed pid is &quot;$str
    echo &quot;kill success&quot;
else
    echo &quot;kill failed&quot;
fi
#################################################

# è„šæœ¬èµ‹æƒ
cd /usr/local/jmeter/
sudo chmod 755 *.sh
## æ·»åŠ è‡ªå¯åŠ¨æœåŠ¡
sudo vi /usr/lib/systemd/system/jmeter-server.service
#################################################
[Unit]
Description=jmeter-server project
After=jmeter-server.service
  
[Service]
Type=forking
User=root
Group=root
ExecStart=/usr/local/jmeter/startup.sh
ExecReload=
ExecStop=/usr/local/jmeter/shutdown.sh
PrivateTmp=true
  
[Install]
WantedBy=multi-user.target
#################################################
## èµ‹æƒé™ï¼Œæ¿€æ´»æœåŠ¡ï¼ˆè®¾ç½®è‡ªå¯åŠ¨ï¼‰,å…¶å®ä¸ç”¨èµ‹æƒä¹Ÿè¡Œ
sudo chmod 754 /usr/lib/systemd/system/jmeter-server.service
sudo systemctl enable jmeter-server.service

## å…¶ä»–ç›¸å…³å‘½ä»¤
sudo systemctl start jmeter-server  # å¯åŠ¨æœåŠ¡
sudo systemctl stop jmeter-server # åœæ­¢æœåŠ¡
sudo systemctl status jmeter-server # æŸ¥çœ‹æœåŠ¡è¿è¡Œ
sudo systemctl restart jmeter-server # é‡å¯æœåŠ¡

sudo systemctl disable jmeter-server.service # ç¦ç”¨æœåŠ¡è‡ªå¯åŠ¨
</code></pre>
<h2 id="ä¸»æ§æœºæ‰§è¡Œæ—¶">ä¸»æ§æœºæ‰§è¡Œæ—¶ï¼š</h2>
<pre><code class="language-shell">jmeter -n -t test.jmx -R server1IP,server2IP
## ä¾‹ï¼š
jmeter -n -t test.jmx -R 10.9.8.133
</code></pre>
<h1 id="å…¬å¸æœºå™¨åˆ‡rootç”¨æˆ·æ–¹å¼">å…¬å¸æœºå™¨åˆ‡rootç”¨æˆ·æ–¹å¼</h1>
<pre><code class="language-shell">## ä¸çŸ¥é“æ€ä¹ˆé…ç½®çš„ï¼Œåæ­£éœ€è¦2ä¸ªsudo
sudo sudo su -
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[iterm2é…ç½®lrzsz]]></title>
        <id>https://huyuwei1996.github.io/iterm2-pei-zhi-lrzsz/</id>
        <link href="https://huyuwei1996.github.io/iterm2-pei-zhi-lrzsz/">
        </link>
        <updated>2020-04-30T06:28:48.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ä¸‹è½½è„šæœ¬">ä¸‹è½½è„šæœ¬</h1>
<p>å°†iterm2-send-zmodem.sh &amp; iterm2-recv-zmodem.shæ”¾åˆ°/usr/local/bin/</p>
<pre><code>git clone https://github.com/huyuwei1996/iterm2-zmodem.git
cd iterm2-zmodem
cp *.sh /usr/local/bin
</code></pre>
<h1 id="é…ç½®iterm2-trigger">é…ç½®iterm2 Trigger</h1>
<p>é€‰æ‹©Profiles &gt; Default &gt; Advanced &gt; Triggers &gt; Edit</p>
<h2 id="å‘é€-sz">å‘é€ sz</h2>
<pre><code>Regular expression: rz waiting to receive.\*\*B0100 (æ³¨æ„è¿™é‡Œæ˜¯è¿™æ ·)
Action: Run Silent Coprocess
Parameters: /usr/local/bin/iterm2-send-zmodem.sh
</code></pre>
<h2 id="æ¥æ”¶-rz">æ¥æ”¶ rz</h2>
<pre><code>Regular expression:\*\*B00000000000000
Action: Run Silent Coprocess
Parameters: /usr/local/bin/iterm2-recv-zmodem.sh
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[JPype1 - python2.7ä¸‹macå’Œwinå®‰è£…è§£å†³]]></title>
        <id>https://huyuwei1996.github.io/jpype1-python27-xia-mac-he-win-an-zhuang-jie-jue/</id>
        <link href="https://huyuwei1996.github.io/jpype1-python27-xia-mac-he-win-an-zhuang-jie-jue/">
        </link>
        <updated>2020-04-13T07:29:21.000Z</updated>
        <content type="html"><![CDATA[<h1 id="ç›´æ¥æŒ‡å®šç‰ˆæœ¬å®‰è£…">ç›´æ¥æŒ‡å®šç‰ˆæœ¬å®‰è£…</h1>
<p>python2.7å°±å®‰è£…0.7.1åŠå…¶ä»¥ä¸‹ç‰ˆæœ¬</p>
<pre><code>pip2 install jpype1==0.7.1
or
pip2 install jpype1==0.7.0
</code></pre>
<h2 id="winé€šè¿‡å‹ç¼©åŒ…å®‰è£…">winé€šè¿‡å‹ç¼©åŒ…å®‰è£…</h2>
<p><code>pip2 install jpype1</code>å®‰è£…å¤±è´¥<br>
åœ¨<a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#jpype">https://www.lfd.uci.edu/~gohlke/pythonlibs/#jpype</a> ä¸‹è½½cp27ä¹Ÿå°±æ˜¯å¯¹åº”python2.7çš„<br>
<img src="https://huyuwei1996.github.io//post-images/1586763262234.png" alt="" loading="lazy"><br>
ç„¶åä½¿ç”¨<code>pip2 install JPype1-0.7.1-cp27-cp27m-win_amd64.whl</code>å®‰è£…</p>
<h2 id="macé€šè¿‡ç¼–è¯‘å®‰è£…">macé€šè¿‡ç¼–è¯‘å®‰è£…</h2>
<p><code>pip2 install jpype1</code>å®‰è£…å¤±è´¥<br>
åœ¨<a href="https://github.com/jpype-project/jpype/releases">https://github.com/jpype-project/jpype/releases</a> ä¸‹è½½v0.7.1çš„Source code<br>
(zip)<br>
å› ä¸º0.7.2å¼€å§‹ä¸æ”¯æŒpython2.7ï¼Œæ‰€ä»¥å®‰è£…æ—¶å€™ä¼šä¸€ç›´æŠ¥é”™ã€‚<br>
è¿™é‡Œé€‰æ‹©ä¸‹è½½æºç è§£å‹åï¼Œç›´æ¥ç¼–è¯‘å®‰è£…</p>
<pre><code>cd JPype1-0.7.1
python2 setup.py install
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[è®°ä¸€æ¬¡libimobiledeviceå®‰è£…é—®é¢˜]]></title>
        <id>https://huyuwei1996.github.io/ji-yi-ci-libimobiledevice-an-zhuang-wen-ti/</id>
        <link href="https://huyuwei1996.github.io/ji-yi-ci-libimobiledevice-an-zhuang-wen-ti/">
        </link>
        <updated>2020-04-13T07:12:26.000Z</updated>
        <content type="html"><![CDATA[<p><img src="https://huyuwei1996.github.io//post-images/1586762260492.png" alt="" loading="lazy"><br>
ç›´æ¥è®°å½•ä¸‹ç»“æœå§ï¼Œå›¾ä¸­3f64bbdc857512944b5bc7bb36f4d59191c25d14ä¸€ç›´ç¼–è¯‘æŠ¥é”™ï¼Œafc.cçš„é—®é¢˜ã€‚</p>
<pre><code>brew install -v --HEAD libimobiledevice
# å®‰è£…å¤±è´¥åï¼Œåˆ‡æ¢ä¸Šä¸€ä¸ªcommit
cd /Users/huyuwei/Library/Caches/Homebrew/libimobiledevice--git
git checkout c0576790378daa45d43335d44c5caff04c270c94
brew install gnutls
brew install libgcrypt
./autogen.sh --disable-openssl
make
make install
</code></pre>
<p>è§£å†³ç»è¿‡ï¼š</p>
<pre><code>brew install -v --HEAD libimobiledevice
# å®‰è£…æ–°ç‰ˆæ—¶å€™ï¼Œä¸­é—´å®‰è£…äº†ä¾èµ–python@3.8ï¼Œå’Œopenssl@1.1ï¼Œbrewè‡ªåŠ¨å®‰è£…å¤±è´¥åï¼Œå°è¯•ä»¥ä¸‹å‘½ä»¤ä¾ç„¶å¤±è´¥
brew install -v --HEAD --fetch --build-from-source libimobiledevice
# åé¢æ‰“ç®—æ‰‹åŠ¨ç¼–è¯‘ï¼Œé“¾æ¥ç›¸å…³ä¾èµ–åº“
cd /Users/huyuwei/Library/Caches/Homebrew/libimobiledevice--git
export LDFLAGS=&quot;-L/usr/local/opt/python@3.8/lib:$LDFLAGS&quot;
export LDFLAGS=&quot;-L/usr/local/opt/openssl@1.1/lib:$LDFLAGS&quot;
export CPPFLAGS=&quot;-I/usr/local/opt/openssl@1.1/include&quot;
./autogen.sh
# æç¤ºopensslç‰ˆæœ¬ä¸å¯¹(å¦‚ä¸‹)ï¼Œå¯èƒ½æ˜¯è¿™é‡ŒLDFLAGSè®¾ç½®çš„é—®é¢˜ï¼Œä¸å¤ªä¼šå¼„
checking for openssl &gt;= 0.9.8... no
configure: error: OpenSSL support explicitly requested but OpenSSL could not be found
# æœ€åæ‰¾åˆ°ä¸€ç§æ–¹å¼
brew install gnutls
brew install libgcrypt
./autogen.sh --disable-openssl
make
make install
</code></pre>
<p>ç„¶åideviceinstallerè¿™ä¸ªç»ˆäºæ¢å¤æ­£å¸¸äº†<br>
<img src="https://huyuwei1996.github.io//post-images/1586763744560.png" alt="" loading="lazy"></p>
<p>ç¬¬äºŒå¤©çš„æ–°commitè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚cf5a60d75c2108261a6e848b352f798c1422349c<br>
è¿™ä¹ˆå€’éœ‰çš„äº‹æƒ…åˆšå¥½é‡åˆ°äº†ï¼Œæˆ‘è¿˜ç¡¬è£…ä¸Šäº†ï¼Œå¤ªç´¯äº†ğŸ™</p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Sublime Textå¸¸ç”¨æ’ä»¶è®°å½•]]></title>
        <id>https://huyuwei1996.github.io/sublime-text-chang-yong-cha-jian-ji-lu/</id>
        <link href="https://huyuwei1996.github.io/sublime-text-chang-yong-cha-jian-ji-lu/">
        </link>
        <updated>2020-04-10T03:40:25.000Z</updated>
        <content type="html"><![CDATA[<h6 id="å¸¸ç”¨package">å¸¸ç”¨Package</h6>
<blockquote>
<p>Package Control<br>
ConvertToUTF8(æ”¯æŒGBK)<br>
Codecs33(æ”¯æŒGB2312)<br>
HTML-CSS-JS Prettify<br>
Keymaps<br>
MarkdownTOC<br>
Nodejs<br>
Python 3<br>
PackageResourceViewer<br>
SideBarEnhancements<br>
Material Theme<br>
Theme - Monokai Pro</p>
</blockquote>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[pythonåˆ¤æ–­ç³»ç»Ÿç±»å‹]]></title>
        <id>https://huyuwei1996.github.io/python-pan-duan-xi-tong-lei-xing/</id>
        <link href="https://huyuwei1996.github.io/python-pan-duan-xi-tong-lei-xing/">
        </link>
        <updated>2020-04-10T03:40:12.000Z</updated>
        <content type="html"><![CDATA[<h2 id="osname">os.name</h2>
<p>è¯¥å˜é‡è¿”å›å½“å‰æ“ä½œç³»ç»Ÿçš„ç±»å‹</p>
<pre><code class="language-python">import os
print(os.name)
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:center">ç³»ç»Ÿ</th>
<th style="text-align:center">è¿”å›å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">linux</td>
<td style="text-align:center">posix</td>
</tr>
<tr>
<td style="text-align:center">windows</td>
<td style="text-align:center">nt</td>
</tr>
<tr>
<td style="text-align:center">javaè™šæ‹Ÿæœº</td>
<td style="text-align:center">java</td>
</tr>
</tbody>
</table>
<h2 id="sysplatform">sys.platform</h2>
<p>è¯¥å˜é‡è¿”å›å½“å‰ç³»ç»Ÿçš„å¹³å°æ ‡è¯†</p>
<pre><code class="language-python">import sys
print(sys.platform)
</code></pre>
<table>
<thead>
<tr>
<th style="text-align:center">ç³»ç»Ÿ</th>
<th style="text-align:center">è¿”å›å€¼</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">linux</td>
<td style="text-align:center">linux</td>
</tr>
<tr>
<td style="text-align:center">windows</td>
<td style="text-align:center">win32</td>
</tr>
<tr>
<td style="text-align:center">windows/cygwin</td>
<td style="text-align:center">cygwin</td>
</tr>
<tr>
<td style="text-align:center">mac os x</td>
<td style="text-align:center">darwin</td>
</tr>
</tbody>
</table>
<h2 id="platformsystem">platform.system()</h2>
<p>è¿”å›å½“å‰æ“ä½œç³»ç»Ÿçš„åå­—</p>
<pre><code class="language-python">import platform
print(platform.system())
</code></pre>
<p>ä¾‹å¦‚Linuxï¼ŒWindowsï¼ŒJavaï¼ŒDarwinï¼Œ...</p>
<pre><code>platform.platform() Â  Â  #è·å–æ“ä½œç³»ç»Ÿåç§°åŠç‰ˆæœ¬å·ï¼Œå¦‚'Darwin-19.2.0-x86_64-i386-64bit'

platform.version() Â  Â  Â  Â #è·å–æ“ä½œç³»ç»Ÿç‰ˆæœ¬å·ï¼Œå¦‚'Darwin Kernel Version 19.2.0: Sat Nov  9 03:47:04 PST 2019; root:xnu-6153.61.1~20/RELEASE_X86_64'

platform.architecture() Â  Â #è·å–æ“ä½œç³»ç»Ÿçš„ä½æ•°ï¼Œå¦‚('64bit', '')

platform.machine() Â  Â  #è®¡ç®—æœºç±»å‹ï¼Œå¦‚'x86_64'

platform.node() Â  Â  Â  Â  Â #è®¡ç®—æœºçš„ç½‘ç»œåç§°

platform.processor() Â  Â #è®¡ç®—æœºå¤„ç†å™¨ä¿¡æ¯ï¼Œå¦‚'i386'

platform.uname() Â  Â  Â  Â #åŒ…å«ä¸Šé¢æ‰€æœ‰çš„ä¿¡æ¯æ±‡æ€»
</code></pre>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[oh-my-zshå®‰è£…]]></title>
        <id>https://huyuwei1996.github.io/oh-my-zsh-an-zhuang/</id>
        <link href="https://huyuwei1996.github.io/oh-my-zsh-an-zhuang/">
        </link>
        <updated>2020-04-10T03:39:41.000Z</updated>
        <content type="html"><![CDATA[<h2 id="å®‰è£…æ­¥éª¤">å®‰è£…æ­¥éª¤</h2>
<ol>
<li>zshå®‰è£…</li>
<li>oh-my-zshå®‰è£…ã€é«˜äº®&amp;è‡ªåŠ¨è¡¥å…¨æ’ä»¶å®‰è£…</li>
<li>autojumpæ’ä»¶å®‰è£…</li>
</ol>
<h2 id="å®‰è£…è„šæœ¬">å®‰è£…è„šæœ¬</h2>
<p>MacOS:<br>
macè‡ªå¸¦zsh</p>
<pre><code>sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;

git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

brew install autojump

sed -i &quot;&quot; &quot;s/plugins=(git)/plugins=(git zsh-autosuggestions zsh-syntax-highlighting autojump)/g&quot; ~/.zshrc
source ~/.zshrc
</code></pre>
<p>Ubuntu:</p>
<pre><code>sudo apt update -y
sudo apt install zsh -y
sudo apt install git -y

sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;

git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

sudo apt install autojump -y

sed -i &quot;s/plugins=(git)/plugins=(git zsh-autosuggestions zsh-syntax-highlighting autojump)/g&quot; ~/.zshrc
source ~/.zshrc
</code></pre>
<p>CentOS:</p>
<pre><code>sudo yum update -y
sudo yum install zsh -y
sudo yum install git -y

sh -c &quot;$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;

git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

sudo yum install -y autojump-zsh

sed -i &quot;s/plugins=(git)/plugins=(git zsh-autosuggestions zsh-syntax-highlighting autojump)/g&quot; ~/.zshrc
source ~/.zshrc
</code></pre>
<h3 id="å…¶ä»–é…ç½®">å…¶ä»–é…ç½®</h3>
<p>å¦‚æœæ²¡æœ‰åˆ‡æ¢shellæˆåŠŸ<br>
<code>chsh -s /bin/zsh</code><br>
å¸¸æ˜¾ä¸»æœºåhostname<br>
<code>echo &quot;PROMPT=%m\ \$PROMPT&quot; &gt;&gt; .zshrc</code><br>
å¸¸æ˜¾ç”¨æˆ·åå’Œä¸»æœºå<br>
<code>echo &quot;PROMPT=\$USER@%m\ \$PROMPT&quot; &gt;&gt; .zshrc</code><br>
ç”Ÿæ•ˆ<br>
<code>source .zshrc</code></p>
]]></content>
    </entry>
    <entry>
        <title type="html"><![CDATA[Mac launchctl å¯åŠ¨è¿›ç¨‹]]></title>
        <id>https://huyuwei1996.github.io/mac-launchctl-qi-dong-jin-cheng/</id>
        <link href="https://huyuwei1996.github.io/mac-launchctl-qi-dong-jin-cheng/">
        </link>
        <updated>2020-04-10T03:39:04.000Z</updated>
        <content type="html"><![CDATA[<h1>plistæ–‡ä»¶åˆ†å¸ƒ</h1>
<pre><code class="">/System/Library/LaunchDaemons/ ï¼ˆSystem-wide daemons provided by OS Xï¼‰
å…¶ä¸­ apacheçš„httpdç¨‹åºå¯åŠ¨é…ç½®æ–‡ä»¶ org.apache.httpd.plist å°±åœ¨è¿™é‡Œã€‚

/System/Library/LaunchAgents/ ï¼ˆç”±Mac OS Xä¸ºç”¨æˆ·å®šä¹‰çš„ä»»åŠ¡é¡¹ï¼‰

/Library/LaunchDaemons ï¼ˆç”±ç®¡ç†å‘˜å®šä¹‰çš„å®ˆæŠ¤è¿›ç¨‹ä»»åŠ¡é¡¹ ï¼‰

/Library/LaunchAgents ï¼ˆç”±ç®¡ç†å‘˜ä¸ºç”¨æˆ·å®šä¹‰çš„ä»»åŠ¡é¡¹ ï¼‰
å¦‚æœæ”¾åˆ°/Library/LaunchAgents/ä¸‹é¢çš„è¯ï¼Œå°±æ˜¯ä¸€å¼€æœºå°±å¯åŠ¨å“¦ï½

~/Library/LaunchAgents ï¼ˆ ç”±ç”¨æˆ·è‡ªå·±å®šä¹‰çš„ä»»åŠ¡é¡¹ ï¼‰
</code></pre>
<h1>launchctl å¸¸ç”¨å‘½ä»¤</h1>
<pre><code class="">1.æ˜¾ç¤ºå½“å‰çš„å¯åŠ¨è„šæœ¬
launchctl list

2.å¼€æœºæ—¶è‡ªåŠ¨å¯åŠ¨ApacheæœåŠ¡å™¨
sudo launchctl load -w /System/Library/LaunchDaemons/org.apache.httpd.plist

3.è®¾ç½®å¼€æœºå¯åŠ¨å¹¶ç«‹å³å¯åŠ¨æ”¹æœåŠ¡
launchctl load -w   **.pist 

4. è®¾ç½®å¼€æœºå¯åŠ¨ä½†ä¸ç«‹å³å¯åŠ¨æœåŠ¡ 
launchctl load **.pist 

5. åœæ­¢æ­£åœ¨è¿è¡Œçš„å¯åŠ¨è„šæœ¬
sudo launchctl unload [path/to/script]
6. å†åŠ ä¸Š-wé€‰é¡¹å³å¯å»é™¤å¼€æœºå¯åŠ¨
sudo launchctl unload -w [path/to/script]
</code></pre>]]></content>
    </entry>
</feed>